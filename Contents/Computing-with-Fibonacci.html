
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Computing with Fibonacci Numbers &#8212; Computational Discovery on Jupyter</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=62ba249389abaaa9ffc34bf36a076bdc1d65ee18" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/proof.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=f31d14ad54b65d19161ba51d4ffff3a77ae00456"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="shortcut icon" href="../_static/logo.jpg"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Continued Fractions" href="continued-fractions.html" />
    <link rel="prev" title="Before we begin: installing Python and Jupyter" href="../Installing-Python-and-Jupyter.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.jpg" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Computational Discovery on Jupyter</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../index.html">
                    Welcome to Computational Discovery on Jupyter
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Preface
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../preamble.html">
   Preamble
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Installing-Python-and-Jupyter.html">
   Before we begin: installing Python and Jupyter
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Contents
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Computing with Fibonacci Numbers
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="continued-fractions.html">
   Continued Fractions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="rootfinding.html">
   Rootfinding, Newton’s Method, and Dynamical Systems
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="fractals-and-julia-sets.html">
   Fractals and Julia Sets
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="bohemian-matrices.html">
   Bounded Height Matrices of Integers (Bohemian Matrices)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="mandelbrot.html">
   Mandelbrot Polynomials and Matrices
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chaos-game-representation.html">
   Chaos Game Representation
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Epilogue
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../Looking-back.html">
   Zanshin
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Appendix
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../Appendix/What-to-do-when-things-go-wrong.html">
   What do to when things go wrong
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Appendix/floating-point.html">
   The Bare Minimum about Floating-Point
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Appendix/binomials-factorials-combinatorics.html">
   Binomials, Factorials, and other Combinatorial Things
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Appendix/complex-numbers.html">
   Complex Numbers
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Appendix/symbolic-computation.html">
   Symbolic Computation: The Pitfalls
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Reports on Activities
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../Solutions/Reports%20on%20Fibonacci%20Activities.html">
   Reports on Fibonacci Activities
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Solutions/Reports%20on%20Continued%20Fractions%20Activities.html">
   Reports on Continued Fractions Activities
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Solutions/Reports%20on%20Rootfinding%20Activities.html">
   Reports on Rootfinding Activities
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Solutions/Reports%20on%20Julia%20Set%20Activities.html">
   Reports on Julia Set Activities
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Solutions/Reports%20on%20Bohemian%20Activities.html">
   Reports on Bohemian activities
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Solutions/Reports%20on%20Mandelbrot%20Activities.html">
   Reports on Mandelbrot Activities
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Solutions/Reports%20on%20Chaos%20Game%20Activities.html">
   Reports on Chaos Game Activities
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Back Matter
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../acknowledgements.html">
   Acknowledgements
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../about.html">
   About the authors
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../references.html">
   References
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/Computational-Discovery-on-Jupyter/Computational-Discovery-on-Jupyter"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/Computational-Discovery-on-Jupyter/Computational-Discovery-on-Jupyter/edit/master/book/Contents/Computing-with-Fibonacci.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Edit this page"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="headerbtn__text-container">suggest edit</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/Contents/Computing-with-Fibonacci.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#main-purposes-of-this-unit">
   Main purposes of this unit
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#a-note-to-the-student-reader">
   A note to the Student/Reader
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#a-note-to-the-instructor">
   A note to the Instructor
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-fibonacci-numbers">
   The Fibonacci Numbers
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-cult-of-fibonacci-numbers">
     The “Cult” of Fibonacci Numbers
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#back-to-reality">
     Back to Reality
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#loops">
     Loops
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#lists">
     Lists
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#plots">
     Plots
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#self-documenting-code-and-comments">
     Self-documenting code and comments
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#functions">
     Functions
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cost-and-complexity-in-time-and-space">
     Cost and complexity in time and space
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#recursion">
     Recursion
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#important-remark-about-recursion-for-students-encountering-it-for-the-first-time">
       Important Remark about Recursion for Students encountering it for the First Time.
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#how-this-is-done-by-the-computer-first-mention-of-the-word-stack">
       How this is done by the computer (first mention of the word “stack”)
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#on-the-use-of-global-variables-versus-local-variables">
       On the use of global variables versus “local” variables
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#counting-is-hard">
       Counting is hard
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#is-there-a-better-way">
     Is there a better way?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#matrices-and-linear-recurrences">
     Matrices and linear recurrences
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#iterated-squaring-to-compute-powers">
     Iterated squaring to compute powers
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#a-doubling-formula">
     A doubling formula
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#again-is-there-a-better-way">
     Again, is there a better way?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#asking-a-simpler-question">
     Asking a simpler question
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#pisano-periods">
     Pisano periods
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#hard-problems-and-open-problems">
     Hard problems and Open problems
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#notes-and-references-and-some-digressions">
     Notes and References, and some digressions
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#history-of-the-so-called-fibonacci-numbers-or-should-they-be-called-pingala-numbers-instead">
       History of the so-called Fibonacci numbers, or, should they be called Pingala numbers instead?
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#who-was-binet-and-what-s-going-on-with-that-formula">
       Who was Binet, and what’s going on with that formula?
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#continuous-versions-of-f-n">
       Continuous versions of
       <span class="math notranslate nohighlight">
        \(F_n\)
       </span>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#the-curious-number-10-89-and-some-other-curious-numbers">
       The curious number 10/89, and some other curious numbers
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#looking-back-at-the-programming-constructs-we-have-mentioned">
   Looking back at the programming constructs we have mentioned
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#web-reference-for-python-programming">
     Web reference for Python programming
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#web-reference-for-jupyter-notebooks">
     Web reference for Jupyter notebooks
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#web-reference-for-jupyter-books">
     Web reference for Jupyter Books
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#books-and-web-references-about-fibonacci-numbers">
     Books and web references about Fibonacci numbers
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#accessible-papers-about-fibonacci-numbers">
     Accessible papers about Fibonacci numbers
    </a>
   </li>
  </ul>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Computing with Fibonacci Numbers</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#main-purposes-of-this-unit">
   Main purposes of this unit
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#a-note-to-the-student-reader">
   A note to the Student/Reader
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#a-note-to-the-instructor">
   A note to the Instructor
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-fibonacci-numbers">
   The Fibonacci Numbers
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-cult-of-fibonacci-numbers">
     The “Cult” of Fibonacci Numbers
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#back-to-reality">
     Back to Reality
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#loops">
     Loops
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#lists">
     Lists
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#plots">
     Plots
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#self-documenting-code-and-comments">
     Self-documenting code and comments
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#functions">
     Functions
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cost-and-complexity-in-time-and-space">
     Cost and complexity in time and space
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#recursion">
     Recursion
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#important-remark-about-recursion-for-students-encountering-it-for-the-first-time">
       Important Remark about Recursion for Students encountering it for the First Time.
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#how-this-is-done-by-the-computer-first-mention-of-the-word-stack">
       How this is done by the computer (first mention of the word “stack”)
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#on-the-use-of-global-variables-versus-local-variables">
       On the use of global variables versus “local” variables
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#counting-is-hard">
       Counting is hard
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#is-there-a-better-way">
     Is there a better way?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#matrices-and-linear-recurrences">
     Matrices and linear recurrences
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#iterated-squaring-to-compute-powers">
     Iterated squaring to compute powers
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#a-doubling-formula">
     A doubling formula
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#again-is-there-a-better-way">
     Again, is there a better way?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#asking-a-simpler-question">
     Asking a simpler question
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#pisano-periods">
     Pisano periods
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#hard-problems-and-open-problems">
     Hard problems and Open problems
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#notes-and-references-and-some-digressions">
     Notes and References, and some digressions
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#history-of-the-so-called-fibonacci-numbers-or-should-they-be-called-pingala-numbers-instead">
       History of the so-called Fibonacci numbers, or, should they be called Pingala numbers instead?
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#who-was-binet-and-what-s-going-on-with-that-formula">
       Who was Binet, and what’s going on with that formula?
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#continuous-versions-of-f-n">
       Continuous versions of
       <span class="math notranslate nohighlight">
        \(F_n\)
       </span>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#the-curious-number-10-89-and-some-other-curious-numbers">
       The curious number 10/89, and some other curious numbers
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#looking-back-at-the-programming-constructs-we-have-mentioned">
   Looking back at the programming constructs we have mentioned
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#web-reference-for-python-programming">
     Web reference for Python programming
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#web-reference-for-jupyter-notebooks">
     Web reference for Jupyter notebooks
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#web-reference-for-jupyter-books">
     Web reference for Jupyter Books
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#books-and-web-references-about-fibonacci-numbers">
     Books and web references about Fibonacci numbers
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#accessible-papers-about-fibonacci-numbers">
     Accessible papers about Fibonacci numbers
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="computing-with-fibonacci-numbers">
<h1>Computing with Fibonacci Numbers<a class="headerlink" href="#computing-with-fibonacci-numbers" title="Permalink to this headline">#</a></h1>
<section id="main-purposes-of-this-unit">
<h2>Main purposes of this unit<a class="headerlink" href="#main-purposes-of-this-unit" title="Permalink to this headline">#</a></h2>
<p>We want to begin to teach computational discovery as quickly as possible, and simultaneously induce the active reader to (start to) program in Python.</p>
</section>
<section id="a-note-to-the-student-reader">
<h2>A note to the Student/Reader<a class="headerlink" href="#a-note-to-the-student-reader" title="Permalink to this headline">#</a></h2>
<p>Suppose you want to learn how to swim.  Which method below would suit you best?</p>
<ol class="simple">
<li><p>Getting in the shallow water with someone who can swim, and who can move your limbs if necessary, and who can show you what to do and does so</p></li>
<li><p>Reading a book about swimming before getting in the water</p></li>
<li><p>Watching a video about swimming before getting in the water</p></li>
</ol>
<p>We think most of you would choose (1) for swimming, and analogously for programming: most people learn best by <em>doing</em>.  That is how this unit and indeed this whole OER is organized.  Even if you buy the physical book, and we think there are good reasons to have the physical book version of this OER, you will not (we think) sit down and read the whole thing before you poke any Jupyter buttons.  You will want to poke the buttons as you go along!  Indeed, the OER and the physical book are intended to be more like a person who is in the water with you, showing you what to do, letting you do it, and encouraging you to try new things.</p>
<p>This is not to say that reference books and videos are not valuable: sometimes you will want to pause and consult the manual (or Professor Google) to see how to do something, and sometimes you will want to read ahead to see what’s coming next.</p>
<p><a class="reference external" href="https://www.philchodrow.com/PIC16A/schedule/">Here is a good set of videos for learning Python</a></p>
<p><a class="reference external" href="https://www.youtube.com/watch?v=Rr_CnIfr5u8">For that matter, here is a video on learning to swim</a></p>
<p>If you want to modify any of the programs in this unit, and you are reading this as a Jupyter Book,  click on the icon up in the top right corner to download the Jupyter notebook.  We don’t think you’ll need the Python documentation just yet (although the code might look a bit mysterious, its intentions are straightforward), but you can find the <a class="reference external" href="https://docs.python.org/3/">Python 3 documentation here</a> for when you do need it. One thing you <em>will</em> need is that to modify this code you need to be working with a Jupyter notebook, not the Jupyter Book; again, if you are reading the Jupyter Book, and you want to switch to the notebook, click the download icon in the top right corner.  <a class="reference external" href="https://jupyter-notebook.readthedocs.io/en/stable/">Documentation for Jupyter notebooks can be found here</a>.</p>
</section>
<section id="a-note-to-the-instructor">
<h2>A note to the Instructor<a class="headerlink" href="#a-note-to-the-instructor" title="Permalink to this headline">#</a></h2>
<p>Here are some more details of the purposes: first, to introduce using Python (inside a Jupyter notebook) as a computing tool, using Fibonacci numbers as an example.  Second, to introduce the notion of computational discovery, or experimental mathematics.  Specifically, this unit can be used to teach</p>
<ul class="simple">
<li><p>Using a Jupyter Notebook as a Read-Eval-Print-Loop (REPL): this is similar to computing by hand. We will walk through computing (say) the Fibonacci number
<span class="math notranslate nohighlight">\(F_{10}\)</span> using a computer only minimally.</p></li>
<li><p>Loops: for loops, while loops: using these to compute <span class="math notranslate nohighlight">\(F_{10}\)</span> to get the computer to do a <em>bit</em> more work for us.</p></li>
<li><p>Conditionals: the if-then-else construct of choosing a path in the program depending on some condition</p></li>
<li><p>Lists and other data structure: saving the results of computations, rather than recomputing them</p></li>
<li><p>Visualizations: plotting on regular scale, and our first look at object-oriented syntax</p></li>
<li><p>Functions: if something is done over and over again, make it a
function: inputs, outputs</p></li>
<li><p>Some important stylistic considerations: good naming and good documentation</p></li>
<li><p>Recursion: the cost of computing and the danger of simplistic recusion: why computing
Fibonacci numbers recursively can
lead to exponentially many sub-calls: some methods to avoid the cost and use recursion well</p></li>
<li><p>Complexity of computation: time complexity, space complexity: both
impact computation of
and display of big Fibonacci numbers</p></li>
<li><p>The idea that just because an algorithm exists doesn’t make it the <em>best</em> algorithm.</p></li>
<li><p>Better algorithms for Fibonacci numbers: : iterated squaring,
ideas from matrices.</p></li>
<li><p>Better algorithms for just the last few digits</p></li>
<li><p>Pisano periods and <em>very</em> large inputs</p></li>
</ul>
<p>How much time you spend in-class on this depends highly on how you plan to use the material.  In-class discussions in an Active Learning Space can’t “cover the material” at anything like the breakneck pace of ordinary lectures, but we are sure that the students will learn more by taking it at their own pace.  We recommend letting the students pick and choose from the later material even from this unit.  This may mean that some things are omitted for this round, and that’s ok.</p>
</section>
<section id="the-fibonacci-numbers">
<h2>The Fibonacci Numbers<a class="headerlink" href="#the-fibonacci-numbers" title="Permalink to this headline">#</a></h2>
<p>The Fibonacci numbers, <span class="math notranslate nohighlight">\(F_n\)</span>, named after the nickname given to Leonardo Pisano, or
Leonardo of Pisa,  were actually studied as early as 200 BCE by Pingala, who used them to analyse
the number of patterns in Sanskrit poetry.  They are defined by a two-term linear recurrence relation,</p>
<div class="math notranslate nohighlight">
\[F_{n}= F_{n-1} + F_{n-2}\]</div>
<p>and two initial conditions.  There are several different conventions about what the initial
conditions should be: we will choose <span class="math notranslate nohighlight">\(F_0=0\)</span> and <span class="math notranslate nohighlight">\(F_1=1\)</span>.  These numbers are connected to the so-called Golden Ratio <span class="math notranslate nohighlight">\(\phi\)</span> by a formula known as <em>Binet’s formula</em>.  The Golden Ratio <span class="math notranslate nohighlight">\(\phi\)</span> is</p>
<div class="math notranslate nohighlight">
\[
\phi := \frac{1 + \sqrt{5}}{2} \approx 1.618\ldots .
\]</div>
<p>Binet’s formula says that</p>
<div class="math notranslate nohighlight">
\[
F_n = \frac{1}{\sqrt{5}} \phi^n - \frac{1}{\sqrt{5}}\left( - \frac{1}{\phi} \right)^n
\]</div>
<p>and since <span class="math notranslate nohighlight">\(1/\phi &lt; 1\)</span> we have the excellent approximation <span class="math notranslate nohighlight">\(F_n \approx \phi^n/\sqrt{5}\)</span>, which is actually so good that for <span class="math notranslate nohighlight">\(n &gt; 1\)</span> you can get the exact answer merely by taking the nearest integer to this approximation.</p>
<p>Binet’s formula is actually very weird: one takes powers of an irrational number, adds to it or subtracts from it a different power of the same irrational number, divides by <span class="math notranslate nohighlight">\(\sqrt{5}\)</span>, and out pops an integer. We will explore this (later) by a set of activities, although it is a digression.</p>
<section id="the-cult-of-fibonacci-numbers">
<h3>The “Cult” of Fibonacci Numbers<a class="headerlink" href="#the-cult-of-fibonacci-numbers" title="Permalink to this headline">#</a></h3>
<p>Now that we have defined Fibonacci numbers, and given the connection to <span class="math notranslate nohighlight">\(\phi\)</span> which is called (somewhat mystically) “The Golden Ratio” we find that we need to pause and put our “feet on the ground”.  There is a significant body of physical applications of Fibonacci numbers, and they really do occur quite frequently in natural settings, but there is also a tendency in some people to take this “too far” and to see Fibonacci numbers and <span class="math notranslate nohighlight">\(\phi\)</span> in situations where they are not really there.  The tendency to see patterns when they are not there is called <a class="reference external" href="https://en.wikipedia.org/wiki/Pareidolia">“pareidolia”</a> and we’re going to have to guard against this tendency.  <a class="reference external" href="https://youtu.be/4oyyXC5IzEE">Here is Keith Devlin in a video debunking some of the cult favourites</a> and <a class="reference external" href="https://doi.org/10.2307/2686193">George Markowsky’s 1992 article on Misconceptions about the Golden Ratio</a>.  To be fair, here is a link to an enthusiast who attempts to “debunk the debunker”: <a class="reference external" href="https://www.goldennumber.net/golden-ratio-misconceptions-by-george-markowsky-reviewed/">goldennumber.net</a>.  We will try to keep our feet on the ground in this unit.</p>
</section>
<section id="back-to-reality">
<h3>Back to Reality<a class="headerlink" href="#back-to-reality" title="Permalink to this headline">#</a></h3>
<p>In this section, we’ll explore how to
compute the values taken by <span class="math notranslate nohighlight">\(F_n\)</span> for various different <span class="math notranslate nohighlight">\(n\)</span>: we’ll start by doing some really
basic things, and gradually develop better methods.  If you have lots of coding experience, you
will classify the way we are doing things at first as, well, <em>really basic</em>: but if you are new to coding, we hope that this
will gently get you started to thinking in a computational way.</p>
<p>First, we start by using the Python kernel attached to this Jupyter Notebook as a calculator—no programming at all.  This is also known as a <a class="reference external" href="https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop">Read-Eval-Print-Loop, or REPL</a>. We type our arithmetic into the cell below (which should be specified as a “Code” cell in the menu up above, as opposed to a “Markdown” cell which this text is written into, or either of the other types of cell it could be). Then we hold down the Ctrl key and hit “Enter” (on a PC) or hold down the Command key and hit “Enter” (on a Mac).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span><span class="o">+</span><span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span><span class="o">+</span><span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mi">2</span><span class="o">+</span><span class="mi">3</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>5
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mi">3</span><span class="o">+</span><span class="mi">5</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>8
</pre></div>
</div>
</div>
</div>
<p>We put a simple “1” in the first cell, not for any grand purpose, but to make the labels on the left <strong>that show up in the Jupyter Notebook for this unit, but unfortunately not in the Jupyter Book version</strong> have something to do with the numbering of the Fibonacci numbers.  That is, In [2] has the definition of <span class="math notranslate nohighlight">\(F_2\)</span> and Out[2] has the result of the computation: <span class="math notranslate nohighlight">\(0 + 1 = 1\)</span> and indeed <span class="math notranslate nohighlight">\(F_2 = 1\)</span>.  A little compulsive on our part.  Then In [3] has the definition of <span class="math notranslate nohighlight">\(F_3\)</span> and Out[3] has the computed result: <span class="math notranslate nohighlight">\(F_3 = 2\)</span>.  Similarly In [4] has the definition of <span class="math notranslate nohighlight">\(F_4\)</span> and Out[4] has its value, and so on.</p>
<p>(Warning: Those label numbers (visible only in the Jupyter Notebook and not in Jupyter Book, anyway) will change if you execute other commands and then come back and re-execute these—we recommend that you don’t do that, but rather stick to a linear order of execution.  In case you get confused, in the Notebook there is an option under the “Kernel” tab above to Restart and Run All which will re-execute everything from the top down, and re-number the output in sequence.)</p>
<p>Mostly, we are going to ignore those labels (especially because they don’t show up in Jupyter Book).</p>
<div class="tip admonition" id="fibonacciactivity-1">
<p class="admonition-title">Fibonacci Activity 1</p>
<p><em>Download the Jupyter notebook this unit uses, or open a fresh Jupyter notebook, and use the Edit menu above to insert two more code cells below here, and enter <span class="math notranslate nohighlight">\(5+8\)</span> and hit Ctrl-Enter (or the equivalent) to get <span class="math notranslate nohighlight">\(13\)</span>, and <span class="math notranslate nohighlight">\(8+13\)</span> and hit Ctrl-Enter to get <span class="math notranslate nohighlight">\(21\)</span></em>. <a class="reference internal" href="../Solutions/Reports%20on%20Fibonacci%20Activities.html#fibonacciactivityreport-1"><span class="std std-ref">[What happened when we did this]</span></a></p>
</div>
<p>Simple.  You now know how to compute Fibonacci numbers, to as high an order as you want.  The tedious arithmetic will be done by the computer.</p>
<p>Of course once the numbers get big you will be tempted to use “cut and paste” to paste the numbers in instead of retyping them, and that works. So, there are more things than arithmetic that are tedious, and which we will want to use the computer for.</p>
<p>One thing that we will want to use the computer for is to ease the burden on our memory.  The In [3]/Out[3] labelling of Fibonacci numbers in a Jupyter Notebook is fragile, as we mentioned, so we might want to use Python to remember <span class="math notranslate nohighlight">\(F_0\)</span>, <span class="math notranslate nohighlight">\(F_1\)</span>, and so on.</p>
<p>The first way to do this is with “variables” (which are sort of like variables in mathematics, but also sort of not): in Python, variables are objects that can store a value: in our cases, the
values will be integers.  In the Jupyter notebook, input the following code.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">F0</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">F1</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">F2</span> <span class="o">=</span> <span class="n">F1</span> <span class="o">+</span> <span class="n">F0</span>
<span class="nb">print</span><span class="p">(</span><span class="n">F2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1
</pre></div>
</div>
</div>
</div>
<p>Execute the code by clicking the run arrow (or typing shift-enter)
and you should see the output 1, indicating that you have successfully printed <code class="docutils literal notranslate"><span class="pre">F2</span></code> which is the name we chose for <span class="math notranslate nohighlight">\(F_2\)</span>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There are rules about possible names for variables in Python.  You can find a tutorial <a class="reference external" href="https://www.askpython.com/python/python-variables">at this link</a> which goes over the details.  In brief: Start with a letter or underscore (_), you can use numbers inside variable names but the whole name can’t just be numbers, and you can’t use predefined keywords.</p>
<p>We remark that <em>one</em> of their example variable names is a bad choice: they use (where they are talking about printing the values of variables) an instance of using the letter <code class="docutils literal notranslate"><span class="pre">l</span></code> (lower case <code class="docutils literal notranslate"><span class="pre">l</span></code>, the letter between <code class="docutils literal notranslate"><span class="pre">k</span></code> and <code class="docutils literal notranslate"><span class="pre">m</span></code>).  They actually assign this the value <code class="docutils literal notranslate"><span class="pre">1</span></code>.  That’s <code class="docutils literal notranslate"><span class="pre">1</span></code>, the first numeral.  In many fonts there is only <em>one pixel difference</em> between the two, and debugging is hard enough without things like that.  So, while <code class="docutils literal notranslate"><span class="pre">l</span></code> is a legal Python variable name (note that <code class="docutils literal notranslate"><span class="pre">1</span></code> is not), don’t use it, please.</p>
<p>But other than that bad example, the tutorial there is pretty good.</p>
<p>We remark that choosing <em>good</em>, <em>intelligible</em>, and <em>memorable</em> variable names is much more important long-term than you might think.  This is one of the most important parts of documenting your code, in fact.  But for now we’ll just use things analogous to the math symbols we’ve been using.</p>
</div>
<p>In the next code block, type</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">F3</span> <span class="o">=</span> <span class="n">F2</span> <span class="o">+</span> <span class="n">F1</span>
<span class="nb">print</span><span class="p">(</span><span class="n">F3</span><span class="p">)</span>
<span class="n">F4</span> <span class="o">=</span> <span class="n">F3</span> <span class="o">+</span> <span class="n">F2</span>
<span class="nb">print</span><span class="p">(</span><span class="n">F4</span><span class="p">)</span>
<span class="n">F5</span> <span class="o">=</span> <span class="n">F4</span> <span class="o">+</span> <span class="n">F3</span>
<span class="nb">print</span><span class="p">(</span><span class="n">F5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2
3
5
</pre></div>
</div>
</div>
</div>
<p>By now this should be feeling pretty repetitive, and we should be longing for a way to not have to keep typing
two more rows of code for each new Fibonacci number.  Let’s try to be more systematic about it.  Let’s think about what we are doing: we have a current Fibonacci number, a previous Fibonacci number, and we use them to compute the
next one in the sequence.</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{equation*}
\text{next} = \text{current} + \text{previous}
\end{equation*}\]</div>
<p>Then we replace the previous one by the one which was current, and the current by the next, and repeat.  This assumes that <em>the only thing we need <span class="math notranslate nohighlight">\(F_n\)</span> for is to compute the next Fibonacci numbers, and once we have done so, we may discard it</em>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Think of “variable names” like <code class="docutils literal notranslate"><span class="pre">F1</span></code> and <code class="docutils literal notranslate"><span class="pre">F2</span></code> as “labels on boxes”.  The word “container” is often used, and this makes a lot of sense. You can put one thing at a time, and <em>only</em> one thing at a time, in each box (container), by assignment: <code class="docutils literal notranslate"><span class="pre">F1</span> <span class="pre">=</span> <span class="pre">7</span></code> puts the integer 7 into the box labelled <code class="docutils literal notranslate"><span class="pre">F1</span></code> and obliterates whatever was in there before.  One important feature of Python, which makes it both useful and dangerous, is that Python allows you to put different <em>kinds</em> of things into the box, whatever you want, basically at will.  For instance, you could subsequently say <code class="docutils literal notranslate"><span class="pre">F1</span> <span class="pre">=</span> <span class="pre">'this</span> <span class="pre">is</span> <span class="pre">a</span> <span class="pre">string'</span></code> and this would obliterate the 7 that had been there before.  But you can only ever have one “thing” inside a box at any time.  Now, some kinds of things (lists, tuples, arrays) can themselves hold things so it can get a bit complicated, but that’s a story for later.</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">F1</span> <span class="o">=</span> <span class="mi">7</span>
<span class="nb">print</span><span class="p">(</span><span class="n">F1</span><span class="p">)</span>
<span class="n">F1</span> <span class="o">=</span> <span class="s1">&#39;this is a string&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">F1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>7
this is a string
</pre></div>
</div>
</div>
</div>
<p>Now let’s do a bunch of them, juggling placeholders:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">previous</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">current</span>  <span class="o">=</span> <span class="mi">1</span>
<span class="nb">next</span>     <span class="o">=</span> <span class="n">current</span> <span class="o">+</span> <span class="n">previous</span> <span class="c1"># A block of three statements</span>
<span class="n">previous</span> <span class="o">=</span> <span class="n">current</span>            
<span class="n">current</span>  <span class="o">=</span> <span class="nb">next</span>
<span class="nb">next</span>     <span class="o">=</span> <span class="n">current</span> <span class="o">+</span> <span class="n">previous</span> <span class="c1"># The exact same block of three</span>
<span class="n">previous</span> <span class="o">=</span> <span class="n">current</span>            
<span class="n">current</span>  <span class="o">=</span> <span class="nb">next</span>
<span class="nb">next</span>     <span class="o">=</span> <span class="n">current</span> <span class="o">+</span> <span class="n">previous</span> <span class="c1"># Again with these three statements</span>
<span class="n">previous</span> <span class="o">=</span> <span class="n">current</span>            
<span class="n">current</span>  <span class="o">=</span> <span class="nb">next</span>
<span class="nb">next</span>     <span class="o">=</span> <span class="n">current</span> <span class="o">+</span> <span class="n">previous</span> <span class="c1"># One more time</span>
<span class="n">previous</span> <span class="o">=</span> <span class="n">current</span>            
<span class="n">current</span>  <span class="o">=</span> <span class="nb">next</span>
<span class="nb">print</span><span class="p">(</span><span class="n">current</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>5
</pre></div>
</div>
</div>
</div>
<p><strong>Remark</strong> It is important to do the replacements in the order we specify: <code class="docutils literal notranslate"><span class="pre">previous</span> <span class="pre">=</span> <span class="pre">current</span></code>, and only then do <code class="docutils literal notranslate"><span class="pre">current</span> <span class="pre">=</span> <span class="pre">next</span></code>.  If instead we had done <code class="docutils literal notranslate"><span class="pre">current</span> <span class="pre">=</span> <span class="pre">next</span></code> first, we would have obliterated the value held in the variable <code class="docutils literal notranslate"><span class="pre">current</span></code> before we had a chance to save that value in the variable named <code class="docutils literal notranslate"><span class="pre">previous</span></code>.  This kind of thinking about variables, namely as places to keep values, is important.  This kind of thinking about how to use variables in sequence (putting something in a variable, and then later taking it out and putting it somewhere else) is the essence of programming.  This is <em>data transfer</em> and it is perhaps the most important aspect of computing.  For mathematics, one tends to think that <em>data transformation</em> which is how data can be combined to make new things is even more important, and that is true for mathematics (here we’re just using the + operation, but even so we can’t do Fibonacci numbers without it) but it is the data transfer aspect that tends to be dominant in other applications.  Even though what we are doing here in this example is so very simple, namely just passing Fibonacci numbers through three variables named <code class="docutils literal notranslate"><span class="pre">previous</span></code>, <code class="docutils literal notranslate"><span class="pre">current</span></code>, and <code class="docutils literal notranslate"><span class="pre">next</span></code>, it’s an important action, and worth taking notice of.</p>
</section>
<section id="loops">
<h3>Loops<a class="headerlink" href="#loops" title="Permalink to this headline">#</a></h3>
<p>The above may seem worse than the previous code: three lines of code for each step, but since we are no longer using an explicit naming scheme for our variables, we can use <em>loops</em> to automate things.  To do this we can use <code class="docutils literal notranslate"><span class="pre">for</span></code> or <code class="docutils literal notranslate"><span class="pre">while</span></code> loops.  Again, we are discarding everything older than the previous Fibonacci number; we will revisit this assumption presently.  Loops are written in Python by <em>indenting</em>.  Everything that is indented following the <code class="docutils literal notranslate"><span class="pre">for</span></code> or <code class="docutils literal notranslate"><span class="pre">while</span></code> statement will be executed repeatedly, until the conditions for terminating the loop are satisfied.</p>
<p>The simplest and most reliable are <code class="docutils literal notranslate"><span class="pre">for</span></code> loops.  They execute the statements in the loop a fixed number of times, typically changing a loop variable (such as <code class="docutils literal notranslate"><span class="pre">i</span></code> in the loop below) to take on every value in a <code class="docutils literal notranslate"><span class="pre">range</span></code>.  This guarantees that the loop will be executed only a finite number of times.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Be mindful of the <em>exact</em> syntax.  The indentation is important, and good editors for Python code will automatically do it for you, once you type the colon (:) that ends the line of the <code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">i</span> <span class="pre">in</span> <span class="pre">range(2,6):</span></code> statement.  The colon (:) is what tells Python the first line of the loop is complete.  You need it!  The details matter.</p>
<p>To write code that is <em>not</em> in the loop, after the loop, go back to the previous level of indentation.</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">previous</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">current</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">6</span><span class="p">):</span>
    <span class="nb">next</span> <span class="o">=</span> <span class="n">current</span> <span class="o">+</span> <span class="n">previous</span>
    <span class="n">previous</span> <span class="o">=</span> <span class="n">current</span>
    <span class="n">current</span> <span class="o">=</span> <span class="nb">next</span>
<span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="nb">next</span><span class="p">)</span>    
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>5 5
</pre></div>
</div>
</div>
</div>
<p><strong>Remark</strong> Getting the index correct, so it matches our stated convention, is ridiculously hard for humans to do.  It is pathetically easy to make what is known as an “off-by-one” error.  Python’s indexing conventions don’t appear to help: we seem to start on the right index (2, because <code class="docutils literal notranslate"><span class="pre">previous</span> <span class="pre">=</span> <span class="pre">0</span></code> is <span class="math notranslate nohighlight">\(F_0\)</span> and <code class="docutils literal notranslate"><span class="pre">current</span> <span class="pre">=</span> <span class="pre">1</span></code> is <span class="math notranslate nohighlight">\(F_1\)</span> so the first <code class="docutils literal notranslate"><span class="pre">next</span></code> will be <span class="math notranslate nohighlight">\(F_2\)</span>) but, surprisingly, the range command ends with <span class="math notranslate nohighlight">\(6\)</span>, meaning that we stop with <span class="math notranslate nohighlight">\(F_5\)</span>.  Ack.  Perhaps even more disturbingly, if we had not specified the 2 in <code class="docutils literal notranslate"><span class="pre">range(2,6)</span></code> then the index would have started at <span class="math notranslate nohighlight">\(0\)</span>, not at <span class="math notranslate nohighlight">\(1\)</span>.  Not all computer languages do this: Matlab and Julia and Maple start at <span class="math notranslate nohighlight">\(1\)</span>, not <span class="math notranslate nohighlight">\(0\)</span>, by default, for examples.  But Python follows Edsger W. Dykstra on this: see <a class="reference external" href="https://www.cs.utexas.edu/users/EWD/transcriptions/EWD08xx/EWD831.html">the famous memo</a> if you want an abstract justification. Our job here, though, is not to justify that convention, but simply to get used to it.  It’s the language we’re using (because it is a popular language), and we are going to use it to do the things that we want to.  We now return you to the Fibonacci numbers.</p>
<p>Now we see that we can modify our loop to make it compute much further out:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">previous</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">current</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">31</span><span class="p">):</span>
    <span class="nb">next</span> <span class="o">=</span> <span class="n">current</span> <span class="o">+</span> <span class="n">previous</span>
    <span class="n">previous</span> <span class="o">=</span> <span class="n">current</span>
    <span class="n">current</span> <span class="o">=</span> <span class="nb">next</span>
<span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="nb">next</span><span class="p">)</span>   
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>30 832040
</pre></div>
</div>
</div>
</div>
<p>This tells us that <span class="math notranslate nohighlight">\(F_{30}= 832040\)</span>.  Right, <span class="math notranslate nohighlight">\(30\)</span> and not <span class="math notranslate nohighlight">\(31\)</span>.  It’s a convention, and it’s what the <code class="docutils literal notranslate"><span class="pre">range</span></code> command does.</p>
<p>We can also use <code class="docutils literal notranslate"><span class="pre">while</span></code> loops to do something similar.  This kind of loop is a bit more powerful, in that the termination condition does not have to be that the loop executes a fixed number of times.  It is also more dangerous, in that it is quite possible to write a loop that does not terminate (and thus requires interruption by hitting CTRL-C or something similar).  <strong>A bit of advice: don’t write loops that fail to terminate</strong>.  Sigh.  We wish it was that easy.  The power of <code class="docutils literal notranslate"><span class="pre">while</span></code> loops is quite useful.</p>
<p>The following loop executes repeatedly, so long as the variable <code class="docutils literal notranslate"><span class="pre">i</span></code> is less than 31.  The easiest way to make this an infinite loop is to forget to put in a statement that increments <code class="docutils literal notranslate"><span class="pre">i</span></code> every time.  The statement <code class="docutils literal notranslate"><span class="pre">i+=1</span></code> is the same as “replace the value in <code class="docutils literal notranslate"><span class="pre">i</span></code> with one more than whatever was in <code class="docutils literal notranslate"><span class="pre">i</span></code> before”.  The first time through the loop, <code class="docutils literal notranslate"><span class="pre">i=2</span></code> (as specified before the loop started). So when it gets to that statement, <code class="docutils literal notranslate"><span class="pre">i</span></code> will become 3 and the loop will execute again.  Then 4, then 5, and so on, until the final time the loop gets executed, when <code class="docutils literal notranslate"><span class="pre">i=30</span></code>, then <code class="docutils literal notranslate"><span class="pre">i=31</span></code> will occur, and the loop will stop.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">previous</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">current</span> <span class="o">=</span> <span class="mi">1</span> 
<span class="n">i</span><span class="o">=</span><span class="mi">2</span> 
<span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">31</span><span class="p">:</span>
    <span class="nb">next</span> <span class="o">=</span> <span class="n">current</span> <span class="o">+</span> <span class="n">previous</span>
    <span class="n">previous</span> <span class="o">=</span> <span class="n">current</span>
    <span class="n">current</span> <span class="o">=</span> <span class="nb">next</span>
    <span class="n">i</span><span class="o">+=</span><span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="nb">next</span><span class="p">)</span>   
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>31 832040
</pre></div>
</div>
</div>
</div>
<p>In this, we need to set the value of the variable: as long as the value of <code class="docutils literal notranslate"><span class="pre">i</span></code> is less than 31, the loop will be executed: in this example we have to remember to increment the value of <code class="docutils literal notranslate"><span class="pre">i</span></code> by 1 each time we execute the loop.</p>
<p><strong>Important Remark</strong> Now this code, unlike the range command earlier, prints <span class="math notranslate nohighlight">\(31\)</span> and <span class="math notranslate nohighlight">\(F_{30}\)</span>.  This is a consequence of where the print statement is, and what the value of the variable <code class="docutils literal notranslate"><span class="pre">i</span></code> is when the loop is finished.  Printing them together in this way would encourage a human reading the output to make the “off-by-one” error that the Fibonacci number being printed was <span class="math notranslate nohighlight">\(F_{31}\)</span>, which it isn’t.  The only advice we can give for programming is to be careful, and check your answers.  Develop a habit of checking your answers.</p>
</section>
<section id="lists">
<h3>Lists<a class="headerlink" href="#lists" title="Permalink to this headline">#</a></h3>
<p>Suppose that we now want to keep our computed values around once we have computed them.  One way of achieving this is to put the values in a list.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fib_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span><span class="p">]</span>  <span class="c1"># We populate the list with our initial values F_0=0, F_1=1</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">11</span><span class="p">):</span>
    <span class="n">previous</span> <span class="o">=</span> <span class="n">fib_list</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">current</span> <span class="o">=</span> <span class="n">fib_list</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="nb">next</span> <span class="o">=</span> <span class="n">current</span><span class="o">+</span><span class="n">previous</span>
    <span class="n">fib_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">next</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">fib_list</span><span class="p">)</span>  
<span class="nb">print</span><span class="p">(</span><span class="n">fib_list</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55]
5
</pre></div>
</div>
</div>
</div>
<p>Perhaps we wish instead to create a list of pairs, <span class="math notranslate nohighlight">\([i,F_i]\)</span>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fib_list</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>  <span class="c1"># We populate the list with our initial values F_0=0, F_1=1</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">11</span><span class="p">):</span>
    <span class="n">previous</span> <span class="o">=</span> <span class="n">fib_list</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">current</span> <span class="o">=</span> <span class="n">fib_list</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
    <span class="nb">next</span> <span class="o">=</span> <span class="n">current</span><span class="o">+</span><span class="n">previous</span>
    <span class="n">fib_list</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">i</span><span class="p">,</span><span class="nb">next</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">fib_list</span><span class="p">)</span>  
<span class="nb">print</span><span class="p">(</span><span class="n">fib_list</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[0, 0], [1, 1], [2, 1], [3, 2], [4, 3], [5, 5], [6, 8], [7, 13], [8, 21], [9, 34], [10, 55]]
[5, 5]
</pre></div>
</div>
</div>
</div>
<p>Somehow, that list is redundant.  If the list were simply [0,1,1,2,3,5,8,13,21,34,55] it would contain essentially the same information, because that first entry of each pair in the previous list is just its index: <code class="docutils literal notranslate"><span class="pre">fib_list[0]</span></code> is [0,0] and <code class="docutils literal notranslate"><span class="pre">fib_list[7]</span></code> would be [7,<span class="math notranslate nohighlight">\(F_7\)</span>].  So if you know that when you ask for the <span class="math notranslate nohighlight">\(k\)</span>th entry you will get k back as the first element, it seems that you are being told something you already know.  Nonetheless, redundancy is sometimes useful, and there will be times when you want a list of two elements and the first element is where the original pair occurred.</p>
<div class="tip admonition" id="fibonacciactivity-2">
<p class="admonition-title">Fibonacci Activity 2</p>
<p><em>The</em> <a class="reference external" href="https://oeis.org/A000032"><em>Lucas</em> numbers</a> <span class="math notranslate nohighlight">\(L_n\)</span> <em>are defined by the same recurrence relation as the Fibonacci numbers, namely <span class="math notranslate nohighlight">\(L_n = L_{n-1} + L_{n-2}\)</span>, but use different initial conditions: <span class="math notranslate nohighlight">\(L_0 = 2\)</span>, and <span class="math notranslate nohighlight">\(L_1 = 1\)</span>.  Write a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop in Python to compute the Lucas numbers up to <span class="math notranslate nohighlight">\(L_{30}\)</span>.  Compare your answers with the numbers given at the Online Encyclopedia of Integer Sequences (OEIS) entry linked above (A000032)</em>.  We will talk more about the OEIS in the next unit.
<a class="reference internal" href="../Solutions/Reports%20on%20Fibonacci%20Activities.html#fibonacciactivityreport-2"><span class="std std-ref">[What happened when we did this]</span></a></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Checking our results by comparing to the OEIS is kind of like checking the answers in the back of the book: it’s sort of boring, because it implies someone has done this before. But it isn’t, really, because you might have discovered <em>your</em> sequence in a new way, and because the OEIS links lots of different ways to construct (at least some of) the sequences in its database, and gives references, then what you have done is to <em>connect what you are doing to what others have done</em>.  This is not, in fact, boring at all.</p>
<p>Now what happens if you ask the OEIS about a sequence that it <em>doesn’t</em> know?  This happens quite frequently, of course.</p>
<p>It says that it doesn’t know it, and asks you to submit it to the OEIS, if you think the sequence might be of interest to other people!</p>
<p>The OEIS is one of the best mathematical databases in existence.  You can help to make it even better.</p>
</div>
<div class="tip admonition" id="fibonacciactivity-3">
<p class="admonition-title">Fibonacci Activity 3</p>
<p><em>Use a <code class="docutils literal notranslate"><span class="pre">while</span></code> loop to compute the Lucas numbers up to <span class="math notranslate nohighlight">\(L_{30}\)</span> using Python</em>.
<a class="reference internal" href="../Solutions/Reports%20on%20Fibonacci%20Activities.html#fibonacciactivityreport-3"><span class="std std-ref">[What happened when we did this]</span></a></p>
</div>
<div class="tip admonition" id="fibonacciactivity-4">
<p class="admonition-title">Fibonacci Activity 4</p>
<p><em>The so-called</em> <a class="reference external" href="https://oeis.org/A000930">Narayana cow’s sequence</a> <em>has the recurrence relation <span class="math notranslate nohighlight">\(a_n = a_{n-1} + a_{n-3}\)</span>, with the initial conditions <span class="math notranslate nohighlight">\(a_0 = a_1 = a_2 = 1\)</span>.  Write a Python loop to compute up to <span class="math notranslate nohighlight">\(a_{30}\)</span>.  Compare your answers with the numbers given at the OEIS entry linked above (A000930)</em>.
<a class="reference internal" href="../Solutions/Reports%20on%20Fibonacci%20Activities.html#fibonacciactivityreport-4"><span class="std std-ref">[What happened when we did this]</span></a></p>
</div>
</section>
<section id="plots">
<h3>Plots<a class="headerlink" href="#plots" title="Permalink to this headline">#</a></h3>
<p>We will see lots of plots later on, but right now what we want to do is draw a <em>polar plot</em> which we (the authors) actually haven’t done up until now in Python, so we will demonstrate not only how to do it, but how we learned how to do it.  Naturally, the answer involves Professor Google.  We entered “draw polar plot in Python” in our browser, and looked at the results.  The top hit was a video (which we did not look at) and the second hit was to the <a class="reference external" href="https://matplotlib.org/stable/gallery/pie_and_polar_charts/polar_demo.html">“matplotlib” documentation</a>.  This package, matplotlib, is going to be very useful for us, and so we go ahead and do this.</p>
<p>The first example at that link is very nearly already what we need.  It uses object-oriented constructs from Python, which we will just use mechanically without much explanation.  The dot (or full stop) <code class="docutils literal notranslate"><span class="pre">.</span></code> is doing some real work in the following code. We will talk about that later but for now we just adapt the existing, working code without too deep a dive into what it’s doing.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>


<span class="n">r</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">)</span>
<span class="n">theta</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">r</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">subplot_kw</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;projection&#39;</span><span class="p">:</span> <span class="s1">&#39;polar&#39;</span><span class="p">})</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_rmax</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_rticks</span><span class="p">([</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>  <span class="c1"># Fewer radial ticks (RMC just had to correct the grammar in this comment)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_rlabel_position</span><span class="p">(</span><span class="o">-</span><span class="mf">22.5</span><span class="p">)</span>  <span class="c1"># Move radial labels away from plotted line</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;A line plot on a polar axis&quot;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Computing-with-Fibonacci_53_0.png" src="../_images/Computing-with-Fibonacci_53_0.png" />
</div>
</div>
<p>The only problem is that it’s drawing the wrong spiral—and we prefer, for very strong reasons, to use radian measure.  However, we’ll use degrees in the labels for our plot, too, so that we only change one thing at a time.  The Fibonacci Spiral, which we take from H.S.M. Coxeter’s 1969 book Introduction to Geometry, Section 11.3 (pp 164-165 in the PDF we have), suggests that the polar curve</p>
<div class="math notranslate nohighlight">
\[
r = \frac{1}{\sqrt{5}} \phi^{2\theta/\pi}
\]</div>
<p>will nearly have radii equal to the Fibonacci numbers when <span class="math notranslate nohighlight">\(\theta\)</span> is a multiple of <span class="math notranslate nohighlight">\(\pi/2\)</span> radians.  Somewhat confusingly, the formula does not need to be converted to degrees, because the code above actually uses radians (yay!) although the labels (weirdly) are in degrees.  Fine.</p>
<p>So we change the definition of the data for the curve in the above example, to get the code below.  This took some fiddling: at first, we had used a formula using degrees (because the labels confused us); then we had forgotten the square root of 5 in the formula; and then we realized that we didn’t need the <code class="docutils literal notranslate"><span class="pre">ax.set_rlabel_position</span></code> command, so we commented it out.  A “comment character” is a hash (<code class="docutils literal notranslate"><span class="pre">#</span></code>): Python ignores everything on the line after that character.  Inserting a <code class="docutils literal notranslate"><span class="pre">#</span></code> at the start of the line “comments out” the line.</p>
<p>For a block of comments, one can use <code class="docutils literal notranslate"><span class="pre">&quot;&quot;&quot;</span></code> at the start and again <code class="docutils literal notranslate"><span class="pre">&quot;&quot;&quot;</span></code> at the end to make everything in between into a comment.</p>
<p>Then we changed the radial axes to be exactly Fibonacci numbers, so you can see that the spiral has radius 3 (visually) when the angle is <span class="math notranslate nohighlight">\(2\pi\)</span> radians or 360 degrees, has radius 5 when the angle is <span class="math notranslate nohighlight">\(7\pi/2\)</span> radians or <span class="math notranslate nohighlight">\(360+90 = 450\)</span> degrees, radius 8 when the angle is <span class="math notranslate nohighlight">\(3\pi\)</span> radians or 360+180=540 degrees, and so on.</p>
<p>Then we changed the title command, and voilà.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>


<span class="c1">#r = np.arange(0, 2, 0.01)  # the example defined theta as a function of r whereas</span>
<span class="c1">#theta = 2 * np.pi * r      # we want to do this the other way round</span>
<span class="n">phi</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span><span class="o">/</span><span class="mi">2</span>
<span class="n">theta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span><span class="mf">0.01</span><span class="p">)</span>  <span class="c1"># Make a fine grid of theta values going twice round the circle</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">phi</span><span class="o">**</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">theta</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>  <span class="c1"># The corresponding r values from the Golden Spiral Formula</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">subplot_kw</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;projection&#39;</span><span class="p">:</span> <span class="s1">&#39;polar&#39;</span><span class="p">})</span> <span class="c1"># same as before</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span> <span class="c1"># same as before</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_rmax</span><span class="p">(</span><span class="mi">21</span><span class="p">)</span> <span class="c1"># changed from 2</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_rticks</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">21</span><span class="p">])</span>  <span class="c1"># Show Fibonacci radii for our plot</span>
<span class="c1">#ax.set_rlabel_position(-22.5)  # don&#39;t need this command</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span> <span class="c1"># same as before</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Fibonacci Spiral&quot;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">)</span> <span class="c1"># change the title</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Computing-with-Fibonacci_55_0.png" src="../_images/Computing-with-Fibonacci_55_0.png" />
</div>
</div>
<p>How do we know that plot is correct?  We can check visually where the blue line crosses the inner circles marked <span class="math notranslate nohighlight">\(3\)</span>, <span class="math notranslate nohighlight">\(5\)</span>, <span class="math notranslate nohighlight">\(8\)</span>, and <span class="math notranslate nohighlight">\(13\)</span>, and see that they do so on horizontal or vertical axes.  We can measure, with a ruler (or dividers or compass!) on the screen, to see if those inner circles are at radii that have the Fibonacci property (is the length marked 13 equal to the sum of the length marked 8 and the length marked 5, for instance).  But we would have been genuinely surprised, unpleasantly so, if something like that went wrong.  We actually did this, after writing this paragraph, and set dividers at the length marked 5, and checked that it was the same length as the distance from the circle marked 8 to the circle marked 13.  Good.</p>
<p>Several important things happened in that example.  First, we “imported” some extremely useful packages of routines, namely <code class="docutils literal notranslate"><span class="pre">numpy</span></code> (for numerical work, using floating-point arithmetic) and <code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot</span></code> for plotting.  To take square roots, we need numerical routines: the square root function is called <code class="docutils literal notranslate"><span class="pre">sqrt</span></code> but it’s in <code class="docutils literal notranslate"><span class="pre">numpy</span></code>.  In our <code class="docutils literal notranslate"><span class="pre">import</span></code> command we decided to use <code class="docutils literal notranslate"><span class="pre">np</span></code> as an abbreviation for <code class="docutils literal notranslate"><span class="pre">numpy</span></code>.  This is common, but we could have used anything (we could have done it in a cursed fashion and “import numpy as plt” and “import matplotlib.pyplot as np”, in fact—we do <em>not</em> recommend doing this: please keep things to be what you expect them to be!).</p>
<p>Python is <em>object oriented</em> and so the things it deals with typically have <em>methods</em> associated with them. So a “plot object” will have an “axis object” associated with it—this was accessed by the command <code class="docutils literal notranslate"><span class="pre">plt.subplots</span></code>.  Thereafter we chose the axis options by calling the methods associated with the <code class="docutils literal notranslate"><span class="pre">axis</span></code> object, which we named <code class="docutils literal notranslate"><span class="pre">ax</span></code> (naturally enough).  This is weird, but you will get used to it, and it has advantages.  Right now, we can just use the syntax by copying and changing and not worrying too much about it.</p>
</section>
<section id="self-documenting-code-and-comments">
<h3>Self-documenting code and comments<a class="headerlink" href="#self-documenting-code-and-comments" title="Permalink to this headline">#</a></h3>
<p>The most important rule of programming is that your bit of code will be re-used sometime.  We took as our starting point for the plot above code that someone <em>else</em> had written: we had to read it, and figure
out what it was doing, in order to modify it to produce the plot we wanted.  The comments they included helped a lot, but what helped even more was that the names for the variables aligned with the meaning of the plot.  For mathematics, many of our variables are single letters, for instance <span class="math notranslate nohighlight">\(r\)</span> as the radius in a polar plot.  The example code used the letter <code class="docutils literal notranslate"><span class="pre">r</span></code> for the placeholder for the radius values computed in the plot.  The angle is conventionally <span class="math notranslate nohighlight">\(\theta\)</span> in math texts, and the variable (helpfully) was <code class="docutils literal notranslate"><span class="pre">theta</span></code>. The mathematical constant <span class="math notranslate nohighlight">\(\pi\)</span> has the name in Python of <code class="docutils literal notranslate"><span class="pre">np.pi</span></code> which is a bit unexpected, but this “pi” lives in the “numpy” package which we “imported as np” and so (in the Python vernacular) again this makes sense.</p>
<p>If you write your code using variable names that the reader (who <em>most likely will be you, six months from now</em>) expects, then the code will be much easier to understand (and debug).  This is actually more important than writing comments for your code, although you should do that, too.</p>
<div class="tip admonition" id="fibonacciactivity-5">
<p class="admonition-title">Fibonacci Activity 5</p>
<p>Write Python code to <a class="reference external" href="https://en.wikipedia.org/wiki/Golden_spiral">draw the traditional Fibonacci Spiral</a>.  This starts with a square of side 1, then another square of side 1 adjacent to it; then a square of side 2 adjacent to those two squares.  Then a square of side 3 adjacent to the square of side 2 and the two squares of side 1 (there are two ways to do this, but both work).  Then a square of side 5 adjacent to the square of side 3 and the squares of side 1; there is only one way to do this now that you made your previous choice. Then a square of side 8 adjacent to the squares of side 5, 1, and 2; then a square of side 13 adjacent to the squares of side 8, 2, and 3, and so on, spiralling ever larger.  Then, if you like, you can draw quarter-arcs of circles in each square to make a spiralling line.
<a class="reference internal" href="../Solutions/Reports%20on%20Fibonacci%20Activities.html#fibonacciactivityreport-5"><span class="std std-ref">[What happened when we thought about doing this]</span></a></p>
</div>
<div class="tip admonition" id="fibonacciactivity-6">
<p class="admonition-title">Fibonacci Activity 6</p>
<p>We invented a new Fibonacci spiral, using isosceles triangles.  Well, we think it’s new.  The Fibonacci literature is <em>very large</em> so we are not <em>that</em> sure it’s new.  It was fun, though.  It starts weirdly, with a flat “isosceles triangle” with two sides of length 1 and one side of length 2.  This can only be a line segment of length 2 (flat triangle with zero angles).  Next we take a true isosceles triangle with two sides of length 2 and one of length 3 and lay it on the flat triangle.  Then take an isosceles triangle with two sides of length 3 and one of length 5, and fit one of the length 3 sides onto the length 3 side of the previous triangle.  Continue on this way with a (5,5,8) triangle, (8,8,13) triangle, and so on.  Write a Python program to draw these triangles and draw a spiral line through the resulting Fibonacci numbers (starting at 2).
<a class="reference internal" href="../Solutions/Reports%20on%20Fibonacci%20Activities.html#fibonacciactivityreport-6"><span class="std std-ref">[What happened when we did this]</span></a></p>
</div>
<div class="tip admonition" id="fibonacciactivity-7">
<p class="admonition-title">Fibonacci Activity 7</p>
<p>Do something arty, new, and fun with a Fibonacci image.  There’s lots of fun inspiration on Etsy, for example, but feel free to be inventive (we feel that our previous activity satisfies this request, as well, so we won’t put another into the “Reports on Activities”).
<a class="reference internal" href="../Solutions/Reports%20on%20Fibonacci%20Activities.html#fibonacciactivityreport-6"><span class="std std-ref">[What happened when we did this]</span></a></p>
</div>
</section>
<section id="functions">
<h3>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">#</a></h3>
<p>If we wish to compute lots of values of Fibonacci numbers there are various things we could do: precompute all the values we need and store them in a list, for example.  Sometimes the best thing to do is to write a function which we can call when we need a particular value.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fibo</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">previous</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">current</span> <span class="o">=</span> <span class="mi">1</span> 
    <span class="n">i</span><span class="o">=</span><span class="mi">2</span> 
    <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">:</span>
        <span class="nb">next</span> <span class="o">=</span> <span class="n">current</span> <span class="o">+</span> <span class="n">previous</span>
        <span class="n">previous</span> <span class="o">=</span> <span class="n">current</span>
        <span class="n">current</span> <span class="o">=</span> <span class="nb">next</span>
        <span class="n">i</span><span class="o">+=</span><span class="mi">1</span>
    <span class="k">return</span><span class="p">(</span><span class="nb">next</span><span class="p">)</span>    
<span class="nb">print</span><span class="p">(</span><span class="n">fibo</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span> 
<span class="nb">print</span><span class="p">(</span><span class="n">fibo</span><span class="p">(</span><span class="mi">30</span><span class="p">))</span>
    
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>5
832040
</pre></div>
</div>
</div>
</div>
<p>We can now test how fast our code is: for how large an input <span class="math notranslate nohighlight">\(n\)</span> can we compute <code class="docutils literal notranslate"><span class="pre">fibo(n)</span></code> in realistic time?
As an aside, in our context we use “realistic time” to mean a few seconds or a minute.  Depending on the importance of a computation, realistic time could mean minutes, months, or even years.</p>
<p>The simplest way to measure computing time is to use the <code class="docutils literal notranslate"><span class="pre">time</span></code> package, like so:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">time</span>
<span class="n">t</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">fibo</span><span class="p">(</span> <span class="mi">1000</span> <span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span><span class="o">-</span><span class="n">t</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.0002429485321044922
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">t</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">fibo</span><span class="p">(</span> <span class="mi">10000</span> <span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span><span class="o">-</span><span class="n">t</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.00360107421875
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">t</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">fibo</span><span class="p">(</span> <span class="mi">100000</span> <span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span><span class="o">-</span><span class="n">t</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.14645695686340332
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">t</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">fibo</span><span class="p">(</span> <span class="mi">1000000</span> <span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span><span class="o">-</span><span class="n">t</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>13.722503900527954
</pre></div>
</div>
</div>
</div>
<p>We see that when <span class="math notranslate nohighlight">\(n\)</span> gets as large as <span class="math notranslate nohighlight">\(n=10^6\)</span>, the code has started to slow down considerably.</p>
<p><a class="reference external" href="https://docs.python.org/3/library/time.html">More details about the <code class="docutils literal notranslate"><span class="pre">time</span></code> package</a>.</p>
</section>
<section id="cost-and-complexity-in-time-and-space">
<h3>Cost and complexity in time and space<a class="headerlink" href="#cost-and-complexity-in-time-and-space" title="Permalink to this headline">#</a></h3>
<p>There are several useful notions of the <em>cost</em> of a computation.  Perhaps the most important one is the carbon cost: every computation takes energy and how that energy is generated really matters. Floris van der Tak says “before you ask for time on a facility, first check what kind of power they are using”, in <a class="reference external" href="https://physicsworld.com/a/the-huge-carbon-footprint-of-large-scale-computing/">this 2022 article on carbon cost</a>.  Then there is <em>opportunity cost</em>: if you are spending time and compute cycles on this, then you are not spending it on something else (which might be more useful).  This is, of course, spectacularly hard to measure because you have to think of all the other things you could be doing.</p>
<p>More mundanely, you can think about the CPU time and memory resources that you use on a given machine.  Memory usage is especially complicated nowadays, but at its most basic, how you organize your data can affect the time and energy needed to do your computation.</p>
<p>We’re actually not going to worry at all about that, just now.  Instead we are going to think about a variation of opportunity cost, namely “don’t waste time computing things that you don’t need, or have already computed”.  This sounds easy enough, but turns out to require serious thinking.  In fact, about <em>half</em> of all speed gains for computation over the last fifty years have come from <em>algorithmic improvements</em> and the other half from hardware improvements.  It turns out that finding the best way to compute something (or even just “a better way”) is frequently very difficult.  The whole field of “complexity theory” studies this using various models.  The <em>complexity</em> of a problem, loosely speaking, is the <em>minimal cost</em> of computing the answer.  For a great many problems—even for something so simple as matrix multiplication!—the complexity is not known, although we have many algorithms of varying cost.</p>
<p>At its most basic, we need to think about how many steps a program will take, and how long each step will take.  For the function <code class="docutils literal notranslate"><span class="pre">fibo()</span></code> it is easy to see that computing <code class="docutils literal notranslate"><span class="pre">fibo(n)</span></code> will take <span class="math notranslate nohighlight">\(n-1\)</span> additions: however, this is not the end of the
story, since the summands are increasing in size, and adding large numbers takes longer than adding small numbers.
How do we measure the size of an input <span class="math notranslate nohighlight">\(n\)</span>?  One decent way to think of this is how many bits are needed to specify  <span class="math notranslate nohighlight">\(n\)</span>: that is, about <span class="math notranslate nohighlight">\(\log_2(n)\)</span>.</p>
<p>Just to illustrate that, consider <span class="math notranslate nohighlight">\(F_{100} = 354224848179261915075\)</span>.  Converting this to binary, we get <span class="math notranslate nohighlight">\(F_{100} = 100110011001111011011011101101010011111000101100101001011111111000011\)</span>.  Counting, we find this has <span class="math notranslate nohighlight">\(69\)</span> bits.  Comparing this with <span class="math notranslate nohighlight">\(\log_2(F_{100}) \approx 68.26 \)</span>.  Walking through your memories of how logarithms work, we have <span class="math notranslate nohighlight">\(F_{100} = 2^{\log_2 F_{100}}\)</span> and so it is at least plausible that the number of bits needed to represent <span class="math notranslate nohighlight">\(F_{100}\)</span> should be related to <span class="math notranslate nohighlight">\(\log_2 F_{100}\)</span>.</p>
<p>Now it turns out that the number of bitwise operations needed to add two <span class="math notranslate nohighlight">\(k\)</span>-bit integers grows linearly in <span class="math notranslate nohighlight">\(k\)</span> (can you convince yourself that this is true?).  Let’s suppose that it takes <span class="math notranslate nohighlight">\(c_1 k\)</span> bitwise operations.</p>
<div class="tip admonition" id="fibonacciactivity-8">
<p class="admonition-title">Fibonacci Activity 8</p>
<p><em>Compute the <span class="math notranslate nohighlight">\(n\)</span>th Fibonacci number for <span class="math notranslate nohighlight">\(n=100\)</span>, <span class="math notranslate nohighlight">\(1000\)</span>, and <span class="math notranslate nohighlight">\(10000\)</span>.  How many digits does each have?
Can you predict the number of digits in <span class="math notranslate nohighlight">\(F_n\)</span> as a function of <span class="math notranslate nohighlight">\(n\)</span>?  How many bits in the binary expansions</em>? As discussed above, it should have something to do with <span class="math notranslate nohighlight">\(\log_2 F_n\)</span>, but this can be simplified in a way explored by the next questions.
<a class="reference internal" href="../Solutions/Reports%20on%20Fibonacci%20Activities.html#fibonacciactivityreport-8"><span class="std std-ref">[What happened when we did this]</span></a></p>
</div>
<div class="tip admonition" id="fibonacciactivity-9">
<p class="admonition-title">Fibonacci Activity 9</p>
<p><em>Explore Binet’s formula for <span class="math notranslate nohighlight">\(F_n\)</span>: this should allow you to obtain a formula for the number of bits (binary digits) in the binary expansion of <span class="math notranslate nohighlight">\(F_n\)</span>.  This will be proportional to the number of decimal digits.
You should find that <span class="math notranslate nohighlight">\(F_n\)</span> has close to <span class="math notranslate nohighlight">\(c_2 n\)</span> bits, for the proportionality constant</em> <span class="math notranslate nohighlight">\(c_2 = \log_2 \phi \approx 0.6942\)</span>. <em>Translating this to decimal digits, you can deduce that <span class="math notranslate nohighlight">\(F_n\)</span> has close to <span class="math notranslate nohighlight">\(c_{10} n \)</span> decimal digits, where</em> <span class="math notranslate nohighlight">\(c_{10} = \log_{10} \phi \approx 0.2089\)</span>.  <em>For instance, <span class="math notranslate nohighlight">\(F_{100}\)</span> has <span class="math notranslate nohighlight">\(69\)</span> bits as shown above, and <span class="math notranslate nohighlight">\(0.6942\cdot 100 = 69.42\)</span> which is fairly close; counting the decimal digits of <span class="math notranslate nohighlight">\(F_{100} = 354,224,848,179,261,915,075\)</span> we see <span class="math notranslate nohighlight">\(21\)</span> digits, not too far from <span class="math notranslate nohighlight">\(0.2089 \cdot 100 = 20.89\)</span></em>.
<a class="reference internal" href="../Solutions/Reports%20on%20Fibonacci%20Activities.html#fibonacciactivityreport-9"><span class="std std-ref">[What happened when we did this]</span></a></p>
</div>
<p>Back to complexity: adding <span class="math notranslate nohighlight">\(F_{n-1}\)</span> and <span class="math notranslate nohighlight">\(F_{n-2}\)</span> involves summing two numbers with <span class="math notranslate nohighlight">\(c_2(n-1)\)</span> and <span class="math notranslate nohighlight">\(c_2(n-2)\)</span> bits: this takes close to <span class="math notranslate nohighlight">\(c_2 n\)</span> bitwise operations.  If we have to do this for all the smaller Fibonacci numbers too, those of size <span class="math notranslate nohighlight">\(k\)</span> for every <span class="math notranslate nohighlight">\(k &lt; n\)</span>,
we would end up with</p>
<div class="math notranslate nohighlight">
\[\sum_{k&lt;n}c_2 k= c_2 \frac{n(n-1)}{2} = c_2 \binom{n}{2}\]</div>
<p>bitwise operations in total.  Because most of the information is carried in the exponent of <span class="math notranslate nohighlight">\(n\)</span>, and <span class="math notranslate nohighlight">\(n^2\)</span> is much bigger than <span class="math notranslate nohighlight">\(n\)</span> when <span class="math notranslate nohighlight">\(n\)</span> is large, this is often written as <span class="math notranslate nohighlight">\(O(n^2)\)</span> bitwise operations, ignoring the <span class="math notranslate nohighlight">\(-c_2n/2\)</span> and hiding the constant <span class="math notranslate nohighlight">\(c_2/2\)</span>.</p>
<p>This suggests that the time complexity of the function <code class="docutils literal notranslate"><span class="pre">fibo(n)</span></code> is quadratic in <span class="math notranslate nohighlight">\(n\)</span> (<em>not quadratic in the size of <span class="math notranslate nohighlight">\(n\)</span></em>): that is if we double <span class="math notranslate nohighlight">\(n\)</span>, we roughly quadruple the time to compute <code class="docutils literal notranslate"><span class="pre">fibo(n)</span></code>.</p>
<p>The space complexity of this algorithm is easier to compute: we basically need a constant multiple of the number
of bits of output, which we saw earlier was <span class="math notranslate nohighlight">\(c_2 n\)</span>.</p>
</section>
<section id="recursion">
<h3>Recursion<a class="headerlink" href="#recursion" title="Permalink to this headline">#</a></h3>
<p>We can sometimes write simpler code if we use the idea of recursion.  Let’s define a function <code class="docutils literal notranslate"><span class="pre">fibor(n)</span></code> which will recursively call <code class="docutils literal notranslate"><span class="pre">fibor(n-1)</span></code> and <code class="docutils literal notranslate"><span class="pre">fibor(n-2)</span></code>.  The name <code class="docutils literal notranslate"><span class="pre">fibor</span></code> was chosen so that it is short, and the “r” is meant to recall “recursion”.  Python doesn’t care about names of things, so long as they are unique: choosing <em>good</em> names is a kind of documentation for humans.  We are not being overly fussy about program names just now.</p>
<section id="important-remark-about-recursion-for-students-encountering-it-for-the-first-time">
<h4>Important Remark about Recursion for Students encountering it for the First Time.<a class="headerlink" href="#important-remark-about-recursion-for-students-encountering-it-for-the-first-time" title="Permalink to this headline">#</a></h4>
<p>Some people (but by no means all!) find recursion to be a very natural idea: to solve a problem, replace it with some smaller but otherwise identical problems and solve those.  Doing this recursively means solving each of those smaller problems by replacing <em>them</em> with some even smaller but otherwise identical problems, and so on until the problems get small enough that the solution is obvious and we just return those obvious solutions instead of breaking them up even further.</p>
<p>Returning those “obvious” solutions for the “small enough” cases is called the <em>base of the recursion</em> and without it, recursion doesn’t work (and just gives you an infinite loop, sometimes).  So we often code the base of the recursion first.  For Fibonacci numbers, the base of the recursion is the starting values: when <span class="math notranslate nohighlight">\(n=0\)</span>, <span class="math notranslate nohighlight">\(F_n = F_0 = 0\)</span>, and when <span class="math notranslate nohighlight">\(n=1\)</span>, <span class="math notranslate nohighlight">\(F_n = F_1 = 1\)</span>.  We need <em>both</em> those two.  We could also (if we liked) check the special case <span class="math notranslate nohighlight">\(n=2\)</span> and return that, but that case can be covered by the general rule <span class="math notranslate nohighlight">\(F_{n+1} = F_n + F_{n-1}\)</span> and to keep the code short we only code the necessary special cases.</p>
<blockquote class="epigraph">
<div><p>“Isn’t recursion just the same as mathematical induction?”
– A perfectly correct student whom RMC tutored once long ago and never again (apparently she just needed the reassurance that one time)</p>
</div></blockquote>
</section>
<section id="how-this-is-done-by-the-computer-first-mention-of-the-word-stack">
<h4>How this is done by the computer (first mention of the word “stack”)<a class="headerlink" href="#how-this-is-done-by-the-computer-first-mention-of-the-word-stack" title="Permalink to this headline">#</a></h4>
<p>Recursion is implemented in differing ways, but one way to think about it that models these different ways well enough to get the idea is that every time the interpreter encounters a call to the function it <em>makes a copy</em> of everything it needs and puts it in a convenient place, the <strong>stack</strong>, and tries to execute it.  If during that execution it encounters another instance of the recursive routine, it makes a new copy of everything it needs (which is usually different than from before) and puts it on the stack (on top) and tries to execute <em>that</em>, and so on.  When it finally succeeds (with one of the “obvious” ones) it “pops the stack” and returns to executing the previous one, and so on.  We only mention this here because Python has only a finite stack, and it is possible to run out of memory doing things this way.</p>
<p>The following code introduces the <code class="docutils literal notranslate"><span class="pre">if</span></code> statement as well.  This is a “conditional” statement, and its meaning is fairly clear because it matches English usage quite well.  Notice that the <code class="docutils literal notranslate"><span class="pre">while</span></code> loop that we used previously is also a “conditional” statement: the loop executed only “while” the condition was true.</p>
<p><strong>One bit of logic to watch out for</strong>.  In English usage, most people use an “exclusive” logical or: “Would you like milk or lemon in your tea, Mr. Feynman?” (He famously answered, “Both”, to which his host replied “<a class="reference external" href="https://en.wikipedia.org/wiki/Surely_You%27re_Joking,_Mr._Feynman%21">Surely you’re joking, Mr. Feynman!</a>”)</p>
<p>But conditionals in most programming languages use an “inclusive” or: “Are you going swimming or going hiking?”  “Yes”.  This is quite annoying in conversation, but it’s really useful in programming.  “Do this action if either this is true or that is true” is a useful command.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fibor</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">n</span><span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">n</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span><span class="p">(</span><span class="n">fibor</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="n">fibor</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<p>Now execute that code.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># print(fibor(-5)) would make an infinite loop!  No safeguards in place. </span>
<span class="nb">print</span><span class="p">(</span><span class="n">fibor</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">fibor</span><span class="p">(</span><span class="mi">30</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>5
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>832040
</pre></div>
</div>
</div>
</div>
<p>We should point out, however, that as intuitive and nice as recusive code can be, issues can arise.  Without care, and especially in a case like this, the cost of recursive function calls can grow exponentially because redundant calls are (by default) forgotten, and simply done again when another call with the same argument is made.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">counter</span><span class="o">=</span><span class="mi">0</span>  <span class="c1"># This will count the number of times we call fibor</span>
<span class="k">def</span> <span class="nf">fibor</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">counter</span> <span class="c1"># This will allow fibor() to reference the variable counter inside the function</span>
    <span class="n">counter</span><span class="o">+=</span><span class="mi">1</span>
    <span class="k">if</span> <span class="n">n</span><span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">n</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span><span class="p">(</span> <span class="n">fibor</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="n">fibor</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Now try that code out.  Notice we have to reset the counter after each time we execute the code.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">fibor</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">counter</span><span class="p">)</span>
<span class="n">counter</span><span class="o">=</span><span class="mi">0</span>
<span class="nb">print</span><span class="p">(</span><span class="n">fibor</span><span class="p">(</span><span class="mi">30</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">counter</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>5
15
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>832040
2692537
</pre></div>
</div>
</div>
</div>
<p>We see that in computing <span class="math notranslate nohighlight">\(F_5\)</span> we already made 15 calls to <code class="docutils literal notranslate"><span class="pre">fibor()</span></code>: in computing <span class="math notranslate nohighlight">\(F_{30}\)</span> we made over 2 million recursive calls.  This means that the recursive function <code class="docutils literal notranslate"><span class="pre">fibor()</span></code> is unusable for even moderate values of <span class="math notranslate nohighlight">\(n\)</span>.</p>
<p>How do we know the count is correct?  Well, the variable <code class="docutils literal notranslate"><span class="pre">counter</span></code> is incremented once and only once when the program is called, and so it <em>should</em> be correct; but that doesn’t carry much weight to an experienced programmer.  We do compare it manually to the small cases, though. <code class="docutils literal notranslate"><span class="pre">fibor(5)</span></code> is within reach of human computation, and the result we get agrees with the code.  So we trust this one.</p>
</section>
<section id="on-the-use-of-global-variables-versus-local-variables">
<h4>On the use of global variables versus “local” variables<a class="headerlink" href="#on-the-use-of-global-variables-versus-local-variables" title="Permalink to this headline">#</a></h4>
<p>Inside a procedure such as <code class="docutils literal notranslate"><span class="pre">fibo</span></code> up above and <code class="docutils literal notranslate"><span class="pre">fibor</span></code> the recursive version immediately above, <em>variables</em> can be instantiated and used in a way that is <em>hidden</em> from other procedures or from the global session.  In <code class="docutils literal notranslate"><span class="pre">fibo</span></code>, the variables <code class="docutils literal notranslate"><span class="pre">next</span></code> and <code class="docutils literal notranslate"><span class="pre">current</span></code> were used inside the procedure, but could not be accessed outside the procedure.  Even if a variable outside the procedure has the name <code class="docutils literal notranslate"><span class="pre">next</span></code>, that label points to a different box.  This is a good thing, and prevents the variables inside the procedure from obliterating variables used outside the procedure.  Sometimes you might think you want a variable that <em>is</em> visible outside the procedure, however, and the above code shows you how to do that.  In practice, this is generally discouraged: global variables should be used very sparingly, if at all.  For such a small example as above, used in this Jupyter sandbox without interacting with other procedures, it’s not harmful, because there is nothing for the global variable <code class="docutils literal notranslate"><span class="pre">counter</span></code> to conflict with.</p>
<p>As your programs get larger, though, or are used in more contexts, especially together with code written by other people, the practice of using global variables gets more dangerous.  “The name space gets polluted.”  Here is more-or-less equivalent code that does not use a global variable.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">RecursiveFibonacciCounter</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span><span class="p">(</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="p">]</span> <span class="p">)</span>  <span class="c1"># Return a counter, AND a result</span>
    <span class="n">recent</span> <span class="o">=</span> <span class="n">RecursiveFibonacciCounter</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">prev</span>   <span class="o">=</span> <span class="n">RecursiveFibonacciCounter</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>
    <span class="c1"># This routine returns a counter as the first entry of the list.</span>
    <span class="k">return</span><span class="p">(</span> <span class="p">[</span><span class="n">recent</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">prev</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">recent</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">prev</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="p">)</span>  <span class="c1"># Return a counter, AND a result</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="counting-is-hard">
<h4>Counting is hard<a class="headerlink" href="#counting-is-hard" title="Permalink to this headline">#</a></h4>
<p>In the base case, no further recursive calls are made, so the counter (of the number of calls) is set to <span class="math notranslate nohighlight">\(1\)</span>.  This is because the routine knows it has been called once.</p>
<p>If <span class="math notranslate nohighlight">\(n &gt; 1\)</span> then we <em>rely</em> on <code class="docutils literal notranslate"><span class="pre">RecursiveFibonacciCounter</span></code> to correctly count the number of times it has been called each time, for <span class="math notranslate nohighlight">\(n-1\)</span> and for <span class="math notranslate nohighlight">\(n-2\)</span>, and to tell us by the first entries of the lists: <code class="docutils literal notranslate"><span class="pre">recent[0]</span></code> and <code class="docutils literal notranslate"><span class="pre">prev[0]</span></code> (remember, the first entry of a list is indexed by <span class="math notranslate nohighlight">\(0\)</span> in Python).  Then we add <span class="math notranslate nohighlight">\(1\)</span> to the sum of those two (because we are <em>in</em> a procedure that has been called!) and return that as the first entry of our own list.</p>
<p>Thinking recursively, once you get used to it, can be very powerful.  But it does take effort to get used to.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">t</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span> <span class="n">RecursiveFibonacciCounter</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="p">)</span>
<span class="nb">print</span><span class="p">(</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span><span class="o">-</span><span class="n">t</span> <span class="p">)</span>
<span class="n">t</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span> <span class="n">RecursiveFibonacciCounter</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="p">)</span>
<span class="nb">print</span><span class="p">(</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span><span class="o">-</span><span class="n">t</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[15, 5]
0.0006089210510253906
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[2692537, 832040]
0.7372832298278809
</pre></div>
</div>
</div>
</div>
<p>The problem here is this: considering <span class="math notranslate nohighlight">\(F_5\)</span> for concreteness: <span class="math notranslate nohighlight">\(F_5\)</span> calls <span class="math notranslate nohighlight">\(F_4\)</span> and <span class="math notranslate nohighlight">\(F_3\)</span>.  <span class="math notranslate nohighlight">\(F_4\)</span> calls <span class="math notranslate nohighlight">\(F_3\)</span> and <span class="math notranslate nohighlight">\(F_2\)</span>.  Each of the two <span class="math notranslate nohighlight">\(F_3\)</span> calls calls <span class="math notranslate nohighlight">\(F_2\)</span> and <span class="math notranslate nohighlight">\(F_1\)</span>.  Each of the three <span class="math notranslate nohighlight">\(F_2\)</span> calls calls <span class="math notranslate nohighlight">\(F_1\)</span> and <span class="math notranslate nohighlight">\(F_0\)</span>:
thus we get</p>
<div class="math notranslate nohighlight">
\[1 (F_5) + 1(F_4) + 2(F_3) + 3(F_2) + 5(F_1)+3(F_0) = 15 \]</div>
<p>total calls to <code class="docutils literal notranslate"><span class="pre">fibor()</span></code>.</p>
<p>There are ways to avoid this, using <a class="reference external" href="https://stackoverflow.com/questions/1988804/what-is-memoization-and-how-can-i-use-it-in-python">“memoization”</a> and “decorators” to ensure that Python realizes that we have already called <span class="math notranslate nohighlight">\(F_k\)</span> and doesn’t spawn multiple subroutines calling the same function, but that is a more
advanced topic than we are covering here, although all it amounts to is getting Python to remember if it has done one of these Fibonacci computations before.  Memoization frequently allows recursive programs (which are easier to program, sometimes) to be nearly as efficient as the more plain iterative ones, by taking care of the storage requirements.  But we don’t need it, here.</p>
</section>
</section>
<section id="is-there-a-better-way">
<h3>Is there a better way?<a class="headerlink" href="#is-there-a-better-way" title="Permalink to this headline">#</a></h3>
<p>One of the themes that we will stress along the way is that, just because we have an algorithm or an implentation
of an algorithm which works, doesn’t mean that we should stop there: there may be a better algorithm.  Perhaps one that runs faster, or uses less memory.  Sometimes we’ll be able to find algorthms that will run <em>much</em> faster, or use much less space!  Sometimes we can trade off using more space to use much less time.</p>
</section>
<section id="matrices-and-linear-recurrences">
<h3>Matrices and linear recurrences<a class="headerlink" href="#matrices-and-linear-recurrences" title="Permalink to this headline">#</a></h3>
<p>We will introduce matrices in a later unit, namely the Bohemian matrices unit; but many readers will have seen them anyway, and so for this subsection we will use them without defining them.  If matrices are unfamiliar to you, skip the unit (for now).</p>
<p>Let’s observe that we can rewrite the Fibonacci recurrence as a linear matrix-vector recurrence in a very simple way.<br />
If we let <span class="math notranslate nohighlight">\(\underline{v}_n\)</span> denote the vector</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\underline{v}_n = 
\begin{bmatrix}  F_n\\ F_{n-1}
\end{bmatrix}
\end{split}\]</div>
<p>and let <span class="math notranslate nohighlight">\(A\)</span> denote the matrix</p>
<div class="math notranslate nohighlight">
\[\begin{split}
A=\begin{bmatrix}
1 &amp; 1 \\
1 &amp; 0
\end{bmatrix}
\end{split}\]</div>
<p>then we can rewrite the Fibonacci recurrence as</p>
<div class="math notranslate nohighlight">
\[\underline{v}_n = A \underline{v}_{n-1}\]</div>
<p>which can be followed back to deduce that</p>
<div class="math notranslate nohighlight">
\[
\underline{v}_n = A^n \underline{v}_0.
\]</div>
<p>This means that if we can compute powers of <span class="math notranslate nohighlight">\(A\)</span> efficiently we can also compute <span class="math notranslate nohighlight">\(F_n\)</span> efficiently.
This brings us to the following important idea.</p>
</section>
<section id="iterated-squaring-to-compute-powers">
<h3>Iterated squaring to compute powers<a class="headerlink" href="#iterated-squaring-to-compute-powers" title="Permalink to this headline">#</a></h3>
<p>Consider the expression <span class="math notranslate nohighlight">\(A^{25}\)</span>.  Naively, multiplying 25 copies of <span class="math notranslate nohighlight">\(A\)</span> together takes 24 multiply operations: this can be significantly improved as follows: compute <span class="math notranslate nohighlight">\(A\)</span>, <span class="math notranslate nohighlight">\(A^2\)</span>, <span class="math notranslate nohighlight">\(A^4=(A^2)^2\)</span>, <span class="math notranslate nohighlight">\(A^8=A^4)^2\)</span> and <span class="math notranslate nohighlight">\(A^{16}=(A^8)^2\)</span>.  This takes 4 multiplies.  Now compute <span class="math notranslate nohighlight">\(25=16+8+1\)</span>, so <span class="math notranslate nohighlight">\(A^{25}=A^{16}A^8A\)</span> requiring two more multiplies, for a total of 6.</p>
<p>In general, to compute <span class="math notranslate nohighlight">\(A^n\)</span>, we compute <span class="math notranslate nohighlight">\(A^{2^k}\)</span> for <span class="math notranslate nohighlight">\(k\)</span> up to <span class="math notranslate nohighlight">\(\log_2 n\)</span> using iterated squaring.<br />
Then we multiply the appropriate subset of these iterated squares together by computing the binary expansion of <span class="math notranslate nohighlight">\(n\)</span>.  This takes a total of fewer than <span class="math notranslate nohighlight">\(2 \log_2 n\)</span> matrix multiplications.</p>
<p>Now, we have replaced the complexity of adding enormous numbers with the complexity of multiplying enormous numbers, but far fewer times.  If you choose to study the complexity of multiplying two large integers together, there is a wonderful rabbit hole to go down, starting from naive multiplication of two <span class="math notranslate nohighlight">\(n\)</span> bit integers, which
takes <span class="math notranslate nohighlight">\(O(n^2)\)</span> operations, to the beautiful Karatsuba’ algorithm, with complexity about <span class="math notranslate nohighlight">\(O(n^{1.585})\)</span>, to the
Schönhage-Strassen algorithm which has asymptotic complexity <span class="math notranslate nohighlight">\(O(n\log n \log\log n)\)</span>, and the recent
<span class="math notranslate nohighlight">\(O(n \log n)\)</span> algorithm of Harvey and van der Hoeven.</p>
<p>If we use these more sophisticated methods, we can obtain an algorithm for computing <span class="math notranslate nohighlight">\(F_n\)</span> of order about
<span class="math notranslate nohighlight">\(O(n \log n)\)</span>,  We can’t expect much better than that, since even outputting the digits of <span class="math notranslate nohighlight">\(F_n\)</span> is of order
<span class="math notranslate nohighlight">\(O(n)\)</span>.</p>
<div class="tip admonition" id="fibonacciactivity-10">
<p class="admonition-title">Fibonacci Activity 10</p>
<p>Figure out how to implement iterated squaring to compute <span class="math notranslate nohighlight">\(A^{51}\)</span> by a sequence of Python statements.  Then code a function which will take <span class="math notranslate nohighlight">\(n\)</span> and <span class="math notranslate nohighlight">\(A\)</span> as inputs, compute <span class="math notranslate nohighlight">\(A^n\)</span> by iterated squaring (also called <em>binary powering</em> and the general strategy is sometimes called “divide and conquer”) and return it.<br />
You should only need to use two matrices for storage if you are careful.  There are several ways to do this.  For one method, a hint is to find the low order bits of <span class="math notranslate nohighlight">\(n\)</span> first.
<a class="reference internal" href="../Solutions/Reports%20on%20Fibonacci%20Activities.html#fibonacciactivityreport-10"><span class="std std-ref">[What happened when we did this]</span></a></p>
</div>
<p>That activity is maybe the most important one in this unit, and we suggest that you try it carefully.  Then you can look at what we did, which contains an important lesson on data types and errors in computer programs.  (Maybe your solution didn’t encounter that error, which is good; but have a look anyway.)</p>
<div class="tip admonition" id="fibonacciactivity-11">
<p class="admonition-title">Fibonacci Activity 11</p>
<p>Which is a better method, using matrices or using Binet’s formula, to compute Fibonacci numbers up to (say) <span class="math notranslate nohighlight">\(F_{200}\)</span>? Does using the iterated squaring help with Binet’s formula as well?  How many decimal digits do you have to compute <span class="math notranslate nohighlight">\(\phi\)</span> to in order to ensure that <span class="math notranslate nohighlight">\(F_n\)</span> is accurate?  You don’t have to <em>prove</em> your formula for number of decimal digits, by the way; experiments are enough for this question.  You will have to figure out how to do variable precision arithmetic in some way (perhaps by searching out a Python package to do it).
<a class="reference internal" href="../Solutions/Reports%20on%20Fibonacci%20Activities.html#fibonacciactivityreport-11"><span class="std std-ref">[Our thoughts on this]</span></a></p>
</div>
</section>
<section id="a-doubling-formula">
<h3>A doubling formula<a class="headerlink" href="#a-doubling-formula" title="Permalink to this headline">#</a></h3>
<p>Let’s look a bit more carefully at the matrix <span class="math notranslate nohighlight">\(A\)</span> above, and its powers.  Recall that</p>
<div class="math notranslate nohighlight">
\[\begin{split}
A=\begin{bmatrix}
1 &amp; 1 \\
1 &amp; 0
\end{bmatrix}.
\end{split}\]</div>
<p>Simple computation of the first few powers of <span class="math notranslate nohighlight">\(A\)</span> quickly convinces us that</p>
<div class="math notranslate nohighlight">
\[\begin{split}
A^n=\begin{bmatrix}
F_{n+1} &amp; F_n \\
F_n &amp; F_{n-1}
\end{bmatrix}.
\end{split}\]</div>
<p>This is pretty remarkable all by itself, and you should (perhaps using your binary powering program) convince yourself that this is correct.  You could then prove it by induction, of course, if you wanted: the key step is</p>
<div class="math notranslate nohighlight">
\[\begin{split}
A^{n+1}=\begin{bmatrix}
F_{n+1} &amp; F_n \\
F_n &amp; F_{n-1}
\end{bmatrix}\begin{bmatrix}
1 &amp; 1 \\
1 &amp; 0
\end{bmatrix} = \begin{bmatrix}
F_{n+1}+F_n &amp; F_{n+1} \\
F_n+F_{n-1} &amp; F_{n}
\end{bmatrix} = \begin{bmatrix}
F_{n+2} &amp; F_{n+1} \\
F_{n+1} &amp; F_{n}
\end{bmatrix}.
\end{split}\]</div>
<p>This raises some interesting possibilities.  If <span class="math notranslate nohighlight">\(n\)</span> is <em>even</em>, say <span class="math notranslate nohighlight">\(n=2k\)</span>, then <span class="math notranslate nohighlight">\(A^n = (A^k)^2\)</span> and we have the identity</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{bmatrix}
F_{2k+1} &amp; F_{2k} \\
F_{2k} &amp; F_{2k-1}
\end{bmatrix} = \begin{bmatrix}
F_{k+1} &amp; F_k \\
F_k &amp; F_{k-1}
\end{bmatrix}\begin{bmatrix}
F_{k+1} &amp; F_k \\
F_k &amp; F_{k-1}
\end{bmatrix} = 
\begin{bmatrix}
F_{k+1}^2 + F_k^2 &amp; F_{k+1}F_k + F_k F_{k-1} \\
F_{k+1}F_k + F_k F_{k-1} &amp; F_k^2 + F_{k-1}^2
\end{bmatrix} .
\end{split}\]</div>
<p>Therefore, we conclude that <span class="math notranslate nohighlight">\(F_{2k+1} = F_{k+1}^2 + F_k^2\)</span> and <span class="math notranslate nohighlight">\(F_{2k} = F_{k+1}F_k + F_k F_{k-1}\)</span>. This says that if we can solve two problems of <em>half the size</em> as the original then we can solve our original.
This kind of attack is frequently called a “divide and conquer” method; it’s a powerful kind of recursion that can be <em>much</em> faster than ordinary recursion or iteration. For computing Fibonacci numbers, divide-and-conquer is quite a bit faster (it might not have been, because it involves multiplication now, not just addition, but it actually is faster).  This is one way to understand how Maple computes Fibonacci numbers.  <a class="reference external" href="https://doi.org/10.5206/mt.v1i1.14038">See Jürgen Gerhard’s article on the subject</a>.  Turning those identities into a usable recurrence relation requires some more effort, though, and takes us a bit away from our main point.  If you are interested, though, have a look at the linked article and see if you can write your own fast Fibonacci routine in Python.  We provide Python code (based on Maple’s methods) in our “Reports” section for this unit.</p>
</section>
<section id="again-is-there-a-better-way">
<h3>Again, is there a better way?<a class="headerlink" href="#again-is-there-a-better-way" title="Permalink to this headline">#</a></h3>
<p>We can revisit the question: is there a <em>still better</em> way to compute this?</p>
</section>
<section id="asking-a-simpler-question">
<h3>Asking a simpler question<a class="headerlink" href="#asking-a-simpler-question" title="Permalink to this headline">#</a></h3>
<p>It is clear at this point that what limits our computation of big Fibonacci numbers is the size of the results. What if we only want to compute the final few digits of <span class="math notranslate nohighlight">\(F_n\)</span>?  Now the size of the output (and of the intermediate computations) is kept small, and the limiting factor is the number of squarings of matrices we are going to perform.  Consequently it is now feasible to take something like <span class="math notranslate nohighlight">\(n=7^{12345678}\)</span>, a number which has more than 10 million decimal digits, and compute (say) the
final 100 digits of <span class="math notranslate nohighlight">\(F_n\)</span>. Note that <span class="math notranslate nohighlight">\(F_n\)</span> has about <span class="math notranslate nohighlight">\(0.6942 \cdot 7^{12345678} \approx 0.7 \cdot 10^{10^7}\)</span> bits and just to store it would take more computer memory than exists in this world. So we have to “box clever”.</p>
<div class="tip admonition" id="fibonacciactivity-12">
<p class="admonition-title">Fibonacci Activity 12</p>
<p>Compute the last twenty digits of <span class="math notranslate nohighlight">\(F_n\)</span> where <span class="math notranslate nohighlight">\(n = 7^{k}\)</span> for <span class="math notranslate nohighlight">\(k=1\)</span>, <span class="math notranslate nohighlight">\(k=12\)</span>, <span class="math notranslate nohighlight">\(k=123\)</span>, <span class="math notranslate nohighlight">\(k=1234\)</span>, and so on, all the way up to <span class="math notranslate nohighlight">\(k=123456789\)</span>, or as far as you can go in this progression using “reasonable computer time”.  Record the computing times.  At Clemson the student numbers are eight digits long, and these can be used in place of <span class="math notranslate nohighlight">\(123456789\)</span> in the progression above, for variety.
<a class="reference internal" href="../Solutions/Reports%20on%20Fibonacci%20Activities.html#fibonacciactivityreport-12"><span class="std std-ref">[What happened when we did this]</span></a></p>
</div>
</section>
<section id="pisano-periods">
<h3>Pisano periods<a class="headerlink" href="#pisano-periods" title="Permalink to this headline">#</a></h3>
<p>We begin with a simple observation: the sequence of Fibonacci numbers <span class="math notranslate nohighlight">\(0\)</span>, <span class="math notranslate nohighlight">\(1\)</span>, <span class="math notranslate nohighlight">\(1\)</span>, <span class="math notranslate nohighlight">\(2\)</span>, <span class="math notranslate nohighlight">\(3\)</span>, <span class="math notranslate nohighlight">\(5\)</span>, <span class="math notranslate nohighlight">\(\ldots\)</span> is even, odd, odd, even, odd, odd, even, <span class="math notranslate nohighlight">\(\ldots\)</span> and it has to be so: add an even to an odd number, you get an odd number; add two odds, you get an even; and so on.</p>
<p>Put in terms of <em>modular arithmetic</em>, the sequence <span class="math notranslate nohighlight">\(F_k\)</span> mod <span class="math notranslate nohighlight">\(2\)</span> (ie the sequence of remainders on division by <span class="math notranslate nohighlight">\(2\)</span>) is <em>periodic</em> with period <span class="math notranslate nohighlight">\(3\)</span>.  Now let’s look at the sequence <span class="math notranslate nohighlight">\(F_k\)</span> mod <span class="math notranslate nohighlight">\(3\)</span>:</p>
<div class="math notranslate nohighlight">
\[
0, 1, 1, 2, 0, 2, 2, 1, 0, 1, 1, 2, 0, 2, 2, 1, 0, 1, 1, 2, 0, 2, \ldots
\]</div>
<p>which has period <span class="math notranslate nohighlight">\(8\)</span>.  The sequence <span class="math notranslate nohighlight">\(F_k\)</span> mod <span class="math notranslate nohighlight">\(4\)</span> has period <span class="math notranslate nohighlight">\(6\)</span>.  The sequence <span class="math notranslate nohighlight">\(F_k\)</span> mod <span class="math notranslate nohighlight">\(5\)</span> has period <span class="math notranslate nohighlight">\(20\)</span>.</p>
<p>This turns out to be a general fact: the sequence <span class="math notranslate nohighlight">\(F_k\)</span> mod <span class="math notranslate nohighlight">\(m\)</span> for any fixed integer <span class="math notranslate nohighlight">\(m\)</span> is indeed periodic.  Its period is called the <em>Pisano period</em> (sometimes the “Fibonacci period”; some of us wondered who “Pisano” was, and felt silly when we realised it was just Leonardo of Pisa or Leonardo Pisano and not another mathematician named “Pisano”!).  Sometimes the Pisano period is written as <span class="math notranslate nohighlight">\(\pi(m)\)</span> using the Greek letter <span class="math notranslate nohighlight">\(\pi\)</span>, but this risks confusion with the use of <span class="math notranslate nohighlight">\(\pi(x)\)</span> to mean the number of primes less than <span class="math notranslate nohighlight">\(x\)</span>, or indeed confusion with the ratio of the circumference of a circle to its diameter.</p>
<p>There is no simple rule known for computing the <a class="reference external" href="https://oeis.org/A001175">Pisano period</a>.  We find the Wikipedia article on this to be difficult to read (perhaps this is because it currently contains errors).  We recommend instead <a class="reference external" href="https://mathworld.wolfram.com/PisanoPeriod.html">Eric Weisstein’s piece on MathWorld</a> which contains, among others, the interesting fact that modulo <span class="math notranslate nohighlight">\(m = 10^d\)</span>, that is, looking at the last <span class="math notranslate nohighlight">\(d\)</span> digits, the Pisano period is known to be <span class="math notranslate nohighlight">\(15\cdot 10^{d-1}\)</span>.  So, for the final <span class="math notranslate nohighlight">\(100\)</span> digits, the Pisano period is <span class="math notranslate nohighlight">\(15\cdot 10^{99}\)</span>.</p>
<p>This means that, working mod <span class="math notranslate nohighlight">\(m=10^d\)</span>, we “only” have to compute <span class="math notranslate nohighlight">\(15\cdot 10^{99}\)</span> values of <span class="math notranslate nohighlight">\(F_k\)</span>, and thereafter it repeats. So, to find <span class="math notranslate nohighlight">\(F_{n}\)</span> mod <span class="math notranslate nohighlight">\(m\)</span>, we only have to find where <span class="math notranslate nohighlight">\(n\)</span> lies in the cycle—that is, compute <span class="math notranslate nohighlight">\(n\)</span> mod <span class="math notranslate nohighlight">\(15\cdot 10^{99}\)</span>.  Both of these are (relatively) easy.  Maple says that <span class="math notranslate nohighlight">\(7^{12345678}\)</span> mod <span class="math notranslate nohighlight">\(15\cdot 10^{99}\)</span> is <span class="math notranslate nohighlight">\(10074958745783517956561868690867278026860583978054601497639995184130970247153466763696198800985914449\)</span> (it took only a few seconds to do this).  By writing some more Python code, we were able to confirm this independently.  The last <span class="math notranslate nohighlight">\(100\)</span> digits of the Fibonacci number with this index can be computed in less than <span class="math notranslate nohighlight">\(0.004\)</span> seconds (on this machine): we get <span class="math notranslate nohighlight">\(F_{7^{12345678}}\)</span> mod <span class="math notranslate nohighlight">\(10^{100}\)</span> to be <span class="math notranslate nohighlight">\(307317414528301264423288910092883733560870958520339896436368099936463847448493468403352592709652449\)</span>.  We used the program <code class="docutils literal notranslate"><span class="pre">FibonacciByDoublingModM</span></code> shown in the Reports.</p>
<p>Now, is this correct?  How could we tell?  It’s difficult to be <em>sure</em> because all of our verifications will be by other computations; but there are ways.  We could look at it mod <span class="math notranslate nohighlight">\(10\)</span>, for instance, or <span class="math notranslate nohighlight">\(10^{10}\)</span>, where the answer is a reassuring <span class="math notranslate nohighlight">\(2709652449\)</span>.  So at least our method and code is consistent!</p>
<p>One interesting side note: we thought for a while that we had identified a problem in Python’s built-in modular arithmetic, for very large inputs.  See the Reports.  Although we figured out what was happening (the % operator needs parentheses) this raises the disquieting possibility that some other piece of the code that we rely on is actually flawed, and makes us want to have independent means of checking the answers.</p>
<div class="tip admonition" id="fibonacciactivity-13">
<p class="admonition-title">Fibonacci Activity 13</p>
<p>Compute the last hundred digits of <span class="math notranslate nohighlight">\(F_n\)</span> where <span class="math notranslate nohighlight">\(n = 7^{12345678}\)</span> for yourself, and confirm our answer (or prove us wrong).
<a class="reference internal" href="../Solutions/Reports%20on%20Fibonacci%20Activities.html#fibonacciactivityreport-13"><span class="std std-ref">[What happened when we did this]</span></a></p>
</div>
</section>
<section id="hard-problems-and-open-problems">
<h3>Hard problems and Open problems<a class="headerlink" href="#hard-problems-and-open-problems" title="Permalink to this headline">#</a></h3>
<p>Fibonacci numbers have been studied for so long that (surely?) everything must be known about them by now?  There are books and books and papers (and a whole Journal) about them, after all.</p>
<p>Um, no.  See for instance <a class="reference external" href="https://twitter.com/_onionesque/status/1541539643312799751?s=20&amp;t=JgTNa-u1U1Mk0YDjBL4FKA">this Twitter thread</a> which links to papers such as the 1999 paper <a class="reference external" href="https://doi.org/10.1090/S0025-5718-99-01145-X">Random Fibonacci sequences and the number 1:13198824…</a> by Divakumar Viswanath, in the journal Mathematics of Computation (which is a very highly-regarded journal, by the way).</p>
<p>The Twitter thread also links to the paper <a class="reference external" href="https://statweb.stanford.edu/~cgates/PERSI/papers/probabilizing-fibonacci.pdf">Probabilizing Fibonacci numbers</a> by Persi Diaconis, which includes the following paragraph in its introduction:</p>
<blockquote class="epigraph">
<div><p>Fibonacci numbers have a “crank math” aspect but they are also serious stuff—from sunflower
seeds through Hilbert’s tenth problem. My way of understanding anything is to ask, “What does
a typical one look like?” Okay, what does a typical Fibonacci number look like? How many are
even? What about the decomposition into prime powers? Are there infinitely many prime Fibonacci
numbers? I realize that I don’t know and, it turns out, for most of these questions, nobody knows.
– Persi Diaconis, <em>Probabilizing Fibonacci Numbers</em></p>
</div></blockquote>
<p>That paper is advanced indeed, and casually uses tools from number theory, probability theory, and calculus to answer <em>some</em> of those hard problems.  We refer to this paper here not as a reference for this OER, but rather to say that even the experts have a lot to learn about Fibonacci numbers.</p>
<div class="tip admonition" id="fibonacciactivity-14">
<p class="admonition-title">Fibonacci Activity 14</p>
<p><em>Write down some questions (don’t worry about answers, at first) about Fibonacci numbers or the Binet formula</em>.
Afterwards, look over your questions, and (if you want) choose one out and answer it.
<a class="reference internal" href="../Solutions/Reports%20on%20Fibonacci%20Activities.html#fibonacciactivityreport-14"><span class="std std-ref">[What happened when we did this]</span></a></p>
</div>
</section>
<section id="notes-and-references-and-some-digressions">
<h3>Notes and References, and some digressions<a class="headerlink" href="#notes-and-references-and-some-digressions" title="Permalink to this headline">#</a></h3>
<section id="history-of-the-so-called-fibonacci-numbers-or-should-they-be-called-pingala-numbers-instead">
<h4>History of the so-called Fibonacci numbers, or, should they be called Pingala numbers instead?<a class="headerlink" href="#history-of-the-so-called-fibonacci-numbers-or-should-they-be-called-pingala-numbers-instead" title="Permalink to this headline">#</a></h4>
<p>Most mathematicians are poor historians, even of mathematics.  Typically they take at most one course in the History of Mathematics (and maybe never give any courses, which would be better training for them).  We do not claim to be historians of mathematics here, and we will give only a sketch in any case, and point you to better sources.  We take much of what we say below from <a class="reference external" href="https://mathshistory.st-andrews.ac.uk/Biographies/Fibonacci/">The MacTutor entry for Fibonacci</a>. We understand that true historians of mathematics are not very enthused about that source, but we have found it useful.</p>
<p>From it we learn that Leonardo of Pisa (apparently his proper name: “Fibonacci” is only a nickname) was born, probably in Pisa, in 1170CE and died in 1250CE, probably in Pisa, aged about 80.  He travelled quite extensively, doing significant work in what is now Algeria.  It was there that he was exposed to Indian mathematics, as transmitted by generations of Islamic scholars.  While he probably did not see any work of <a class="reference external" href="https://en.wikipedia.org/wiki/Pingala">Pingala</a>, the 3rd century BCE Sanskrit scholar who arguably did the first work on what we know now as Fibonacci sequences, it is not beyond possibility that Leonard of Pisa <em>did</em> see work of the 10th century scholar <a class="reference external" href="https://en.wikipedia.org/wiki/Halayudha">Halayudha</a>, or at least some derivatives of that work (this is speculation on our part: we have license, we are not historians).  There would have been time (some two hundred years) for this work to diffuse in the rich Islamic scholarly world of the time.  This is suggestive, therefore, that Leonard of Pisa doesn’t deserve all the credit for Fibonacci numbers.  The <a class="reference external" href="https://oeis.org/A000045">link at the OEIS</a>, also gives credit to <a class="reference external" href="https://en.wikipedia.org/wiki/Hemachandra#Mathematics">Hemachandra</a>.</p>
<p>What Fibonacci <em>did</em> do was a great service to European mathematics, science, engineering, and industry: he introduced the Indian system of notation and systems of arithmetic to Europe in his justifiably famous book <em>Liber Abaci</em>.  According to the MacTutor article linked above, he also did some deeper mathematics of his own (genuinely his own) and published that in a more “serious” book, <em>Liber quadratorum</em> and achieved some fame amongst the learned thereby (and by solving some “challenge” problems set by a scientist in the court of Fredrick II).  Much of this more serious work was forgotten, and rediscovered some three hundred years later.</p>
<p>The name “Fibonacci numbers” is not going to be changed.  There’s simply too many pieces of paper in the world with that name attached to them.  It’s never going to go away.  We hope, though, that the true historical depth of this interesting sequence can at least be acknowledged.</p>
</section>
<section id="who-was-binet-and-what-s-going-on-with-that-formula">
<h4>Who was Binet, and what’s going on with that formula?<a class="headerlink" href="#who-was-binet-and-what-s-going-on-with-that-formula" title="Permalink to this headline">#</a></h4>
<p>Binet’s formula says that</p>
<div class="math notranslate nohighlight">
\[
F_n = \frac{1}{\sqrt{5}} \phi^n - \frac{1}{\sqrt{5}}\left( - \frac{1}{\phi} \right)^n
\]</div>
<p>where <span class="math notranslate nohighlight">\(\phi = (1+\sqrt5)/2\)</span> is the golden ratio.  Let’s do some hand computation and see if we can figure out what is going on.  This is something one of us did (by hand, yes) and has two purposes for this OER: first, to show you that we don’t know everything off the bat and have to figure some things out as we go, just as you do, and the other is to supply some jumping-off points for your own noodling with Fibonacci numbers.</p>
<p>First we do the basic things: plugging in <span class="math notranslate nohighlight">\(n=0\)</span> gives us, sure enough, <span class="math notranslate nohighlight">\(F_0 = \frac{1}{\sqrt{5}} \phi^0 - \frac{1}{\sqrt{5}}\left( - \frac{1}{\phi} \right)^0 = \frac{1}{\sqrt{5}}  - \frac{1}{\sqrt{5}} = 0\)</span>.  Good.  To do the case <span class="math notranslate nohighlight">\(n=1\)</span> we will have to actually compute <span class="math notranslate nohighlight">\(-1/\phi\)</span> and this can be done by</p>
<div class="math notranslate nohighlight">
\[
\frac{1}{\phi} = \frac{1}{(1+\sqrt5)/2} = \frac{2}{1+\sqrt5} = \frac{2}{(1+\sqrt5)}\cdot\frac{(1-\sqrt5)}{(1-\sqrt5)}
\]</div>
<p>where we have multiplied by the factor <span class="math notranslate nohighlight">\(1 = \frac{(1-\sqrt5)}{(1-\sqrt5)}\)</span> because, looking ahead, the product <span class="math notranslate nohighlight">\((1+\sqrt5)(1-\sqrt5)\)</span> is going to become a difference of squares and simplify to <span class="math notranslate nohighlight">\(1 - 5 = -4\)</span>.  This rationalizes <span class="math notranslate nohighlight">\(1/\phi\)</span> to be</p>
<div class="math notranslate nohighlight">
\[
\frac{1}{\phi} = \frac{2}{-4}\cdot(1-\sqrt5) = \frac{-1+\sqrt5}{2} \approx -0.618\ldots.
\]</div>
<p>With that done, one can work patiently through to get</p>
<div class="math notranslate nohighlight">
\[
F_1 = \frac{1}{\sqrt5}\left( \frac{1+\sqrt5}{2} \right) - \frac{1}{\sqrt5}\left( \frac{1-\sqrt5}{2} \right)
\]</div>
<p>and, as if by magic, the <span class="math notranslate nohighlight">\(1/2\)</span>s cancel, the <span class="math notranslate nohighlight">\(\sqrt5\)</span>s combine (and then the factor of 2 cancels) and the factor of <span class="math notranslate nohighlight">\(\sqrt5\)</span> cancels and we get <span class="math notranslate nohighlight">\(F_1 =  1\)</span>.</p>
<p>A lot of work to get something that we already knew.  But, we persist.  We compute <span class="math notranslate nohighlight">\(\phi^2\)</span> and <span class="math notranslate nohighlight">\(1/\phi^2\)</span> (yes, by hand, still, because we’re on a quest to find out what is going on, and at this point in the OER computation by computers is still a question and not an answer) and we see</p>
<div class="math notranslate nohighlight">
\[
\phi^2 = \frac{(1+\sqrt5)^2}{2^2} = \frac{(1+\sqrt5)(1+\sqrt5)}{4} = \frac{ 1 + 2\sqrt5 + 5}{4} = \frac{6 + 2\sqrt5}{4} = \frac{3+\sqrt5}{2}.
\]</div>
<p>Similarly,</p>
<div class="math notranslate nohighlight">
\[
\left(-\frac{1}{\phi}\right)^2 = (-\phi)^{-2} = \frac{(1-\sqrt5)^2}{2^2} = \frac{(1-\sqrt5)(1-\sqrt5)}{4} = \frac{ 1 - 2\sqrt5 + 5}{4} = \frac{6 - 2\sqrt5}{4} = \frac{3-\sqrt5}{2}.
\]</div>
<p>Now, carefully tracking the minus signs  (yes this is annoying), we find that Binet’s formula again gives us what we knew:</p>
<div class="math notranslate nohighlight">
\[
F_2 = \frac{1}{\sqrt5}\left( \frac{3+\sqrt5}{2}\right) - \frac{1}{\sqrt5}\left( \frac{3-\sqrt5}{2}\right) = 1.
\]</div>
<p>We can do one more by hand, but the desire to look for a trick to simplify all this tedium has already surfaced (and yes, there is a nice trick, but let’s get a little more data).  We compute both <span class="math notranslate nohighlight">\(\phi^3\)</span> and <span class="math notranslate nohighlight">\((-1/\phi)^3\)</span> by hand to get</p>
<div class="math notranslate nohighlight">
\[
\phi^3 = \phi^2\cdot\phi = \left(\frac{3+\sqrt5}{2}\right)\cdot\left(\frac{1+\sqrt5}{2}\right) = \left( \frac{3+4\sqrt5 + 5}{4} \right) = \frac{4+2\sqrt5}{2}
\]</div>
<p>and</p>
<div class="math notranslate nohighlight">
\[
\left(-\frac{1}{\phi}\right)^3 = \left(\frac{3-\sqrt5}{2}\right)\cdot\left(\frac{1-\sqrt5}{2}\right) = \left( \frac{3-4\sqrt5 + 5}{4} \right) = \frac{4-2\sqrt5}{2}.
\]</div>
<p>Combining these using Binet’s formula gives us <span class="math notranslate nohighlight">\(F_3 = 2\)</span>, which again we knew.</p>
<p>(And before you accuse us of cheating, RMC says not only did he do all the computations by hand, he typed out the Markdown by hand, too, so there.)</p>
<p>From this, we conjectured (and then proved for ourselves using induction) that we may write <span class="math notranslate nohighlight">\(\phi^n = (a_n + b_n\sqrt5)/2\)</span> all the time, where both <span class="math notranslate nohighlight">\(a_n\)</span> and <span class="math notranslate nohighlight">\(b_n\)</span> are positive integers; more than that, both <span class="math notranslate nohighlight">\(a_n\)</span> and <span class="math notranslate nohighlight">\(b_n\)</span> are even, or both <span class="math notranslate nohighlight">\(a_n\)</span> and <span class="math notranslate nohighlight">\(b_n\)</span> are odd, we never mix an odd <span class="math notranslate nohighlight">\(a_n\)</span> with an even <span class="math notranslate nohighlight">\(b_n\)</span> or vice-versa. We found a nicer rule for computing the <span class="math notranslate nohighlight">\(a_n\)</span> and <span class="math notranslate nohighlight">\(b_n\)</span>, namely</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{align*}
a_{n+1} =&amp; \frac{ a_n + 5b_n}{2} \\
b_{n+1} =&amp; \frac{ a_n + b_n}{2}.
\end{align*}\]</div>
<p>Those are fun things to prove, if you like to prove things by induction.  Here are the first few <span class="math notranslate nohighlight">\(a\)</span>’s and <span class="math notranslate nohighlight">\(b\)</span>’s.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p><span class="math notranslate nohighlight">\(n\)</span></p></th>
<th class="head"><p><span class="math notranslate nohighlight">\(a_n\)</span></p></th>
<th class="head"><p><span class="math notranslate nohighlight">\(b_n\)</span></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(0\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(2\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(0\)</span></p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(1\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(1\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(1\)</span></p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(2\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(3\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(1\)</span></p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(3\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(4\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(2\)</span></p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(4\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(7\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(3\)</span></p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(5\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(11\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(5\)</span></p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(6\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(18\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(8\)</span></p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(7\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(29\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(13\)</span></p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(8\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(47\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(21\)</span></p></td>
</tr>
</tbody>
</table>
<p>We then thought to run this table <em>backwards</em> (because we need <span class="math notranslate nohighlight">\(\phi^{-n}\)</span>) and found</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:right head"><p><span class="math notranslate nohighlight">\(n\)</span></p></th>
<th class="text-align:right head"><p><span class="math notranslate nohighlight">\(a_n\)</span></p></th>
<th class="text-align:right head"><p><span class="math notranslate nohighlight">\(b_n\)</span></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:right"><p><span class="math notranslate nohighlight">\(0\)</span></p></td>
<td class="text-align:right"><p><span class="math notranslate nohighlight">\(2\)</span></p></td>
<td class="text-align:right"><p><span class="math notranslate nohighlight">\(0\)</span></p></td>
</tr>
<tr class="row-odd"><td class="text-align:right"><p><span class="math notranslate nohighlight">\(-1\)</span></p></td>
<td class="text-align:right"><p><span class="math notranslate nohighlight">\(-1\)</span></p></td>
<td class="text-align:right"><p><span class="math notranslate nohighlight">\(1\)</span></p></td>
</tr>
<tr class="row-even"><td class="text-align:right"><p><span class="math notranslate nohighlight">\(-2\)</span></p></td>
<td class="text-align:right"><p><span class="math notranslate nohighlight">\(3\)</span></p></td>
<td class="text-align:right"><p><span class="math notranslate nohighlight">\(-1\)</span></p></td>
</tr>
<tr class="row-odd"><td class="text-align:right"><p><span class="math notranslate nohighlight">\(-3\)</span></p></td>
<td class="text-align:right"><p><span class="math notranslate nohighlight">\(-4\)</span></p></td>
<td class="text-align:right"><p><span class="math notranslate nohighlight">\(2\)</span></p></td>
</tr>
<tr class="row-even"><td class="text-align:right"><p><span class="math notranslate nohighlight">\(-4\)</span></p></td>
<td class="text-align:right"><p><span class="math notranslate nohighlight">\(7\)</span></p></td>
<td class="text-align:right"><p><span class="math notranslate nohighlight">\(-3\)</span></p></td>
</tr>
<tr class="row-odd"><td class="text-align:right"><p><span class="math notranslate nohighlight">\(-5\)</span></p></td>
<td class="text-align:right"><p><span class="math notranslate nohighlight">\(-11\)</span></p></td>
<td class="text-align:right"><p><span class="math notranslate nohighlight">\(5\)</span></p></td>
</tr>
</tbody>
</table>
<p>This looks like just a simple set of arithmetic computations.  It looks kind of redundant and useless, because we see that the <span class="math notranslate nohighlight">\(b_n\)</span>’s are really Fibonacci numbers themselves (indeed <span class="math notranslate nohighlight">\(b_n = F_n\)</span>).  One can then notice that the <span class="math notranslate nohighlight">\(a_n\)</span>s are also solutions of the Fibonacci recurrence relation, that is <span class="math notranslate nohighlight">\(a_{n+1} = a_n + a_{n-1}\)</span>, but with different initial conditions: <span class="math notranslate nohighlight">\(a_0 = 2\)</span> and <span class="math notranslate nohighlight">\(a_1 = 1\)</span>. That is, the <span class="math notranslate nohighlight">\(a_n\)</span> are the <a class="reference external" href="https://en.wikipedia.org/wiki/Lucas_number">Lucas numbers</a> <span class="math notranslate nohighlight">\(L_n\)</span>. Then we notice that it seems to show that <span class="math notranslate nohighlight">\(F_{-n} = (-1)^{n-1} F_n\)</span> is a consistent definition (consistent with Binet’s formula, which also gives <span class="math notranslate nohighlight">\(F_{-n} = (-1)^{n-1}F_n\)</span>) of Fibonacci numbers of negative index, and so we might wonder further what a Fibonacci number of <em>real</em> or even <em>complex</em> index might look like. <a class="reference external" href="https://youtu.be/ghxQA3vvhsk">Here’s Stand-Up Maths on the subject</a>.</p>
<p>This collection also gives an example of a different sort of numbers, namely the set of all numbers of the form <span class="math notranslate nohighlight">\(a+b\sqrt5\)</span>.  As we saw above, when we multiply two numbers of this sort, we get something of the same kind (in fact we have a bit more special here because of the one-half in everything, which needs the “both even” or “both odd” rule to help us out with).</p>
<p>By the way, <a class="reference external" href="https://mathworld.wolfram.com/BinetsFibonacciNumberFormula.html">Eric Weisstein says that</a> although Binet did publish his formula in 1843, at least Euler, Daniel Bernoulli, and Abraham DeMoivre knew the formula a century earlier.  <a class="reference external" href="https://en.wikipedia.org/wiki/Jacques_Philippe_Marie_Binet">Here is the Wikipedia article on Binet</a> and a more detailed biography can be found at the <a class="reference external" href="https://mathshistory.st-andrews.ac.uk/Biographies/Binet/">MacTutor site</a>.  Among other things, we learn that the rule for matrix multiplication that is used today was first articulated by Binet.</p>
<p>Obviously, using these <span class="math notranslate nohighlight">\(a_n\)</span> and <span class="math notranslate nohighlight">\(b_n\)</span> to compute <span class="math notranslate nohighlight">\(\phi^n\)</span> as a step to computing Fibonacci numbers “begs the question”. But at least it sort of explains how this crazy-looking formula works.</p>
</section>
<section id="continuous-versions-of-f-n">
<h4>Continuous versions of <span class="math notranslate nohighlight">\(F_n\)</span><a class="headerlink" href="#continuous-versions-of-f-n" title="Permalink to this headline">#</a></h4>
<p>We already linked <a class="reference external" href="https://youtu.be/ghxQA3vvhsk">Stand Up Math</a> on interpolating Fibonacci numbers, and in some sense just replacing the integer <span class="math notranslate nohighlight">\(n\)</span> in Binet’s formula by a continuous variable <span class="math notranslate nohighlight">\(t\)</span> does that—but as pointed out there, this makes the in-between Fibonacci numbers <em>complex</em>.  The formula is</p>
<div class="math notranslate nohighlight">
\[
F_B(t) = \frac{1}{\sqrt{5}}\left(\phi^t - \exp(i\pi t) \phi^{-t}\right),
\]</div>
<p>because <span class="math notranslate nohighlight">\(e^{i\pi t} = \exp( i\pi t )\)</span> is the definition of <span class="math notranslate nohighlight">\((-1)^t\)</span>, and is <span class="math notranslate nohighlight">\(1\)</span> when <span class="math notranslate nohighlight">\(t\)</span> is an even integer and <span class="math notranslate nohighlight">\(-1\)</span> when <span class="math notranslate nohighlight">\(t\)</span> is an odd integer, and complex-valued in between.</p>
<p>But there are an uncountable number of ways to interpolate Fibonacci numbers.  One way to see this is to consider the related <em>functional equation</em></p>
<div class="math notranslate nohighlight">
\[
F(t+1) = F(t) + F(t-1)
\]</div>
<p>for <em>continuous time</em>.  To get started, this requires that <span class="math notranslate nohighlight">\(F(t)\)</span> be specified not just at two isolated points, but on a whole interval (say <span class="math notranslate nohighlight">\(0 \le t &lt; 2\)</span> ).  Though much less studied than, say, differential equations, there is a lot known about functional equations.  This one is a particularly simple kind, being <em>linear</em>.  It only takes a bit of work to see that</p>
<div class="math notranslate nohighlight">
\[
F(t) = p_1(t) \frac{\phi^t}{\sqrt{5}} - p_2(t) \frac{(-\phi)^{-t}}{\sqrt{5}}
\]</div>
<p>where <span class="math notranslate nohighlight">\(p_1(t)\)</span> and <span class="math notranslate nohighlight">\(p_2(t)\)</span> are <em>any functions whatsoever so long as they are periodic with period <span class="math notranslate nohighlight">\(1\)</span></em> is a solution.  Then one can see that <span class="math notranslate nohighlight">\(p_1(t) = 1\)</span> and <span class="math notranslate nohighlight">\(p_2(t) = \cos\pi t/\exp i\pi t = 1/2 + \cos(2\pi t) /2 - i \sin(2\pi t)/2\)</span> give in some sense the absolutely simplest (lowest frequency, anyway) periodic functions that match the Fibonacci initial conditions:</p>
<div class="math notranslate nohighlight">
\[
F(t) = \frac{1}{\sqrt{5}}\left(\phi^t - \cos\pi t \phi^{-t}\right).
\]</div>
<p>Sure enough, the function above is real-valued and interpolates the Fibonacci numbers.</p>
<p>Another way to see that this works is to take the real and imaginary parts of <span class="math notranslate nohighlight">\(F_B(t) = F_r(t) + iF_i(t)\)</span> and notice that the Fibonacci equation is linear, so that if <span class="math notranslate nohighlight">\(F_B(t+1) - F_B(t) - F_B(t-1) = 0\)</span> then both its real part <span class="math notranslate nohighlight">\(F_r(t+1)-F_r(t)-F_r(t-1)\)</span> and its imaginary part <span class="math notranslate nohighlight">\(F_i(t+1)-F_i(t)-F_i(t-1)\)</span> must be separately zero.  Then the formula above is seen to be <span class="math notranslate nohighlight">\(F_r(t)\)</span> because the real part of <span class="math notranslate nohighlight">\(\exp(i\pi t)\)</span> is <span class="math notranslate nohighlight">\(\cos\pi t\)</span>.  The imaginary part is <span class="math notranslate nohighlight">\(\sin \pi t\)</span> and <span class="math notranslate nohighlight">\(F_i(t) = \sin(\pi t) \phi^{-t}/\sqrt{5}\)</span> is zero at all integer values of <span class="math notranslate nohighlight">\(t\)</span>.  Let us plot the continuous formula, with Fibonacci numbers on top, to demonstrate.</p>
<p>The old fibor didn’t look at negative numbers.  Let’s rewrite the old code to allow this.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fibor</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">**</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="n">fibor</span><span class="p">(</span><span class="o">-</span><span class="n">n</span><span class="p">)</span> <span class="c1"># Makes it a float, but ok for now</span>
    <span class="k">if</span> <span class="n">n</span><span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span><span class="p">(</span> <span class="mi">0</span> <span class="p">)</span>
    <span class="k">elif</span> <span class="n">n</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span><span class="p">(</span> <span class="mi">1</span> <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span><span class="p">(</span> <span class="n">fibor</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="n">fibor</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="p">)</span>
<span class="nb">print</span><span class="p">(</span> <span class="n">fibor</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span> <span class="p">)</span>
<span class="nb">print</span><span class="p">(</span> <span class="n">fibor</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="p">)</span>
<span class="nb">print</span><span class="p">(</span> <span class="n">fibor</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>5.0
5
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>832040
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mf">0.01</span><span class="p">)</span>  <span class="c1"># Make a fine grid of t values </span>
<span class="n">phi</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mf">5.0</span><span class="p">))</span><span class="o">/</span><span class="mi">2</span>
<span class="n">F</span> <span class="o">=</span> <span class="p">(</span><span class="n">phi</span><span class="o">**</span><span class="n">t</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">t</span><span class="p">)</span><span class="o">*</span><span class="n">phi</span><span class="o">**</span><span class="p">(</span><span class="o">-</span><span class="n">t</span><span class="p">))</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mf">5.0</span><span class="p">)</span>   <span class="c1"># The continuous Fibonacci formula</span>
<span class="n">n</span>  <span class="o">=</span> <span class="p">[</span><span class="n">k</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">)]</span>
<span class="n">Fn</span> <span class="o">=</span> <span class="p">[</span><span class="n">fibor</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">)]</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span> <span class="c1"># Cartesian is default, anyway</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">F</span><span class="p">)</span> <span class="c1"># same as before</span>
<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">Fn</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span> <span class="c1"># same as before</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Continuous Fibonacci Numbers&quot;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">)</span> 
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Computing-with-Fibonacci_128_0.png" src="../_images/Computing-with-Fibonacci_128_0.png" />
</div>
</div>
<div class="tip admonition" id="fibonaccigraduateactivity-1">
<p class="admonition-title">Fibonacci <em>Graduate</em> Activities </p>
<p>The first time this class was run at Western, we enrolled first year students and <em>graduate students</em> (typically PhD students, with some Masters’ students, and a couple of seniors as well) in the same classroom.  These more advanced students got an extra class a week, which was used for an actual lecture (they were, after all, used to lectures).  They also got several activities to choose from which relied more heavily on advanced topics; not only calculus and linear algebra and differential equations, but occasionally analysis and numerical analysis and dynamical systems as well.  This Fibonacci unit was not used in that class (versions of it have been used at Clemson, but this exact unit is new to this OER and will be tried out at Clemson for the first time this fall as we write it), but the following activities would have qualified for the “Graduate” portion of the class at Western.</p>
<p>1. Show that <span class="math notranslate nohighlight">\(F(t+1)/F(t) - \phi\)</span> is exactly zero whenever <span class="math notranslate nohighlight">\(t\)</span> is half-way between integers, and is maximum not when <span class="math notranslate nohighlight">\(t\)</span> is an integer but a fixed amount (with a somewhat strange exact expression, namely <span class="math notranslate nohighlight">\(-\arctan((2/\pi)\ln\phi)/\pi\)</span>) less than an integer.</p>
<p>2. Show that <span class="math notranslate nohighlight">\(F(t)\)</span> has an infinite number of real zeros, and these rapidly approach negative half integers as <span class="math notranslate nohighlight">\(t\)</span> goes to <span class="math notranslate nohighlight">\(-\infty\)</span>.</p>
<p>3. Rearrange the Fibonacci recurrence relation to</p>
<div class="math notranslate nohighlight">
\[
\frac{F(t+1)-F(t-1)}{2} = \frac{1}{2} F(t)
\]</div>
<p>and by making an analogy to finite differences argue that the golden ratio <span class="math notranslate nohighlight">\(\phi\)</span> “ought to” be close to <span class="math notranslate nohighlight">\(\exp(1/2)\)</span>.  Show that this is in fact true, to within about <span class="math notranslate nohighlight">\(2\)</span> percent.</p>
<p>4. Draw a <a class="reference external" href="https://medium.com/&#64;balidani/phase-portrait-animations-of-complex-functions-f0a44c2477c1">phase portrait</a> showing the <em>complex</em> zeros of <span class="math notranslate nohighlight">\(F(t)\)</span>.  Give an approximate formula (asymptotically correct as <span class="math notranslate nohighlight">\(\Re(t)\)</span> goes to plus infinity) for the locations of these zeros.</p>
<p>5. For the new isosceles triangle spiral construction, then angles are formed by a cumulative sum.  Find the asymptotic behaviour of that cumulative sum as the number of triangles goes to infinity.</p>
<p><a class="reference internal" href="../Solutions/Reports%20on%20Fibonacci%20Activities.html#fibonaccigraduateactivityreport-1"><span class="std std-ref">[Some hints and workings]</span></a></p>
</div>
</section>
<section id="the-curious-number-10-89-and-some-other-curious-numbers">
<h4>The curious number 10/89, and some other curious numbers<a class="headerlink" href="#the-curious-number-10-89-and-some-other-curious-numbers" title="Permalink to this headline">#</a></h4>
<p>We begin with a pattern-detection problem.  Can you predict what is the next number in the sequence <span class="math notranslate nohighlight">\(10/89\)</span>, <span class="math notranslate nohighlight">\(100/9899\)</span>, <span class="math notranslate nohighlight">\(1000/998999\)</span>, <span class="math notranslate nohighlight">\(\ldots\)</span>?  Stop reading now if you want to try to find it yourself.  We see a sort of weird pattern there: use the numbers <span class="math notranslate nohighlight">\(8\)</span>, <span class="math notranslate nohighlight">\(9\)</span>, and <span class="math notranslate nohighlight">\(10\)</span> to get <span class="math notranslate nohighlight">\(10/89\)</span>, and use the numbers <span class="math notranslate nohighlight">\(98\)</span>, <span class="math notranslate nohighlight">\(99\)</span>, and <span class="math notranslate nohighlight">\(100\)</span> to get <span class="math notranslate nohighlight">\(100/9899\)</span>, and similarly <span class="math notranslate nohighlight">\(998\)</span>, <span class="math notranslate nohighlight">\(999\)</span>, and <span class="math notranslate nohighlight">\(1000\)</span> to get the final one.  Then the next number would be <span class="math notranslate nohighlight">\(10000/99989999\)</span>.  Of course there are other patterns, but that’s the one we wanted.</p>
<p>What has this got to do with Fibonacci numbers?  Look at the decimal expansion!  This occurs in several places on the internet, by the way (at least the <span class="math notranslate nohighlight">\(10/89\)</span> one does, sometimes as <span class="math notranslate nohighlight">\(1/89\)</span>).  We get</p>
<div class="math notranslate nohighlight">
\[
\frac{10}{89} = 0.112359\ldots
\]</div>
<p>which starts off with a copy of the Fibonacci sequence, up until the 9.  In fact, if you are a bit careful and use more digits you see that the 9 is an 8 followed by a 13 but the 1 in the tens place in the 13 has to be added to the 8, messing up the pattern.  This seems <em>weird</em>.</p>
<p>It gets weirder. Look at the next one:</p>
<div class="math notranslate nohighlight">
\[
\frac{100}{9899} = 0.0101020305081321345590\ldots
\]</div>
<p>where, sure enough, the <span class="math notranslate nohighlight">\(90\)</span> where we expect an <span class="math notranslate nohighlight">\(89\)</span> arises because of a collision with the <span class="math notranslate nohighlight">\(144\)</span> coming next.</p>
<p>Try the next one: you will see that it works perfectly up until a collision with the first four-digit Fibonacci number.  <a class="reference external" href="https://math.stackexchange.com/questions/776855/fibonacci-numbers-from-998999">Yes, there is a math stack exchange post on this subject</a>.</p>
<p>Can this be a coincidence, or is it the start of something deeper?  This is an example of what is known as a “leading question”.  <em>Of course</em> this is the start of something deeper: a very interesting subject known as “Generating Functions” which is connected to the calculus topic of power series.  We don’t want to step on the toes of anyone’s Calculus course, or combinatorics or probability courses for that matter, but we feel that we absolutely have to give the Generating Function that is lying behind these seemingly crazy coincidences.</p>
<p>Consider the function</p>
<div class="math notranslate nohighlight">
\[
G(z) = F_0 + F_1 z + F_2 z^2 + F_3 z^3 + \cdots
\]</div>
<p>where we take the <span class="math notranslate nohighlight">\(\cdots\)</span> to mean that we take a lot of terms—how many terms?  “Enough”.  In your Calculus class you will learn that in this case this makes sense even when you take an infinite number of terms (provided <span class="math notranslate nohighlight">\(|z| &lt; 1/\phi\)</span>) but we really don’t need that here.  What we do need is a closed form for <span class="math notranslate nohighlight">\(G(z)\)</span>, and some sleight-of-hand algebra shows us what it <em>must</em> be, if it is anything at all.  Multiply <span class="math notranslate nohighlight">\(G(z)\)</span> by <span class="math notranslate nohighlight">\(z\)</span> and by <span class="math notranslate nohighlight">\(z^2\)</span> and add them up with the following signs:</p>
<div class="amsmath math notranslate nohighlight" id="equation-e2990681-164a-4808-bffb-ecd14a23f5cd">
<span class="eqno">(1)<a class="headerlink" href="#equation-e2990681-164a-4808-bffb-ecd14a23f5cd" title="Permalink to this equation">#</a></span>\[\begin{align}
G(z) = F_0 + F_1 z +&amp; F_2z^2 + F_3z^3 + \cdots + F_{n}z^{n} + \cdots \nonumber\\
-zG(z) =      -F_0 z -&amp; F_1z^2 - F_2z^3 - \cdots - F_{n-1}z^{n} - \cdots \nonumber\\
-z^2G(z) =         -&amp; F_0 z^2 - F_1z^3 - \cdots - F_{n-2}z^n - \cdots
\end{align}\]</div>
<p>When we add these, column by column, every term of order <span class="math notranslate nohighlight">\(z^2\)</span> or higher cancels (because of the Fibonacci number definition), and we are left with</p>
<div class="math notranslate nohighlight">
\[
G(z)(1-z-z^2) = F_0 + (F_1-F_0)z = z
\]</div>
<p>or, on division,</p>
<div class="math notranslate nohighlight">
\[
G(z) = \frac{z}{1-z-z^2} .
\]</div>
<p>Since <span class="math notranslate nohighlight">\(F_0 = 0\)</span> we have <span class="math notranslate nohighlight">\(G(z) = F_1 z + F_2 z^2 +\cdots\)</span>. The function <span class="math notranslate nohighlight">\(G(z)\)</span> is called a <em>generating function</em> for the Fibonacci numbers.  Generating functions are extremely useful in a number of places in mathematics, especially in random processes, but we’re not going to say anything more here.  You can check that the computation is correct by computing the <em>Taylor series</em> of this function using your favourite computer algebra system (or, if you like, by hand—using partial fractions just gets you Binet’s formula back again, by the way).</p>
<p>What’s the relevance here?  Put in <span class="math notranslate nohighlight">\(z=1/10\)</span> and we find that</p>
<div class="math notranslate nohighlight">
\[
G(z) = G(\frac1{10}) = \frac{10}{89}
\]</div>
<p>and</p>
<div class="math notranslate nohighlight">
\[
G(z) = G(\frac1{100}) = \frac{100}{9899}
\]</div>
<p>and so on.  In terms of the defining sum, we have the <em>decimal expansion</em> (well, until the first collision)</p>
<div class="math notranslate nohighlight">
\[
G(\frac1{10}) = F_1 \times\frac{1}{10} + F_2\times\frac{1}{10^2} + F_3\times\frac{1}{10^3} + \cdots
\]</div>
<p>showing that the connection between Fibonacci numbers and these fractions is real, not just a coincidence.</p>
<p>Some mysteries remain.  We know that these fractions must <em>repeat</em> in decimal form.  But Fibonacci numbers don’t repeat!  Except mod <span class="math notranslate nohighlight">\(m\)</span>.  But we have <em>collisions</em> here. What’s going on?  (We do not know the answer here.) Other questions that might occur to you include “Does this work in other bases, perhaps base <span class="math notranslate nohighlight">\(16\)</span>?”  And does using the generating function give us an efficient way to compute Fibonacci numbers?</p>
<p>And why does the <span class="math notranslate nohighlight">\(8-9-10\)</span>, <span class="math notranslate nohighlight">\(98-99-100\)</span>, etc pattern show up?  Does something like that happen for other bases?</p>
<div class="tip admonition" id="fibonacciactivity-15">
<p class="admonition-title">Fibonacci Activity 15</p>
<p><strong>A modest programming task based on generating functions</strong>, following on from the above</p>
<p>(By “modest” we mean bigger than anything else in this OER so far, but not <em>too</em> bad)</p>
<p>We want you to program the algebraic operations for Truncated Power Series (TPS for short).  What is a Truncated Power Series?  Just a function like <span class="math notranslate nohighlight">\(0 + 1\cdot z + 1\cdot z^2 + 2 \cdot z^3 + \cdots + 89 \cdot z^{11} + O(z^{12})\)</span> where the “O” symbol means that there are more terms afterwards, but we truncate there and don’t print them (or even think about them).  These are <em>like</em> polynomials in many ways, but they are not polynomials; and in particular when you multiply two TPS together you ignore any terms that would be truncated.</p>
<p>This activity shows how the OG symbolic computation systems did it.  Look up the language <a class="reference external" href="https://en.wikipedia.org/wiki/FORMAC">FORMAC</a> invented by <a class="reference external" href="https://en.wikipedia.org/wiki/Jean_E._Sammet">Jean Sammet</a>, for instance. And do read her biography, too.  Modern computer algebra systems usually have better methods, which respect sparsity.  But let’s do it old school.</p>
<p>We suggest that you allow the user (that would be you, also the programmer/developer too) to choose ahead of time the Order of truncation.  In the above example instance it was 12, but you may well want to do computations with a different Order, maybe 6 (computations will be faster) or 100 (if you want to see a lot of terms).</p>
<p>We suggest that you represent each TPS as a list of coefficients: [0,1,1,2,3,5,8,13,21,34,55,89] would then represent <span class="math notranslate nohighlight">\(0 + 1\cdot z + 1\cdot z^2 + 2 \cdot z^3 + \cdots + 89 \cdot z^{11} + O(z^{12})\)</span>.  That is, the <em>data structure</em> for a TPS would just be a Python list of its coefficients.</p>
<p>The rules for adding (or subtracting) two TPS are very simple, and we suggest that you implement and test those first.  In mathematics, the rule is (in math summation notation)</p>
<div class="math notranslate nohighlight">
\[
\sum_{k=0}^N a_k z^k + \sum_{k=0}^N b_k z^k = \sum_{k=0}^N (a_k+b_k)z^k .
\]</div>
<p>You should write a function that uses a loop so that when input two lists of coefficients returns a list of the sum of the corresponding elements.  You can implement the minus operation either by copying that routine and making the appropriate changes, or by writing a routine to negate any sequence; then, using that, you could do <span class="math notranslate nohighlight">\(a(z)-b(z)\)</span> by adding <span class="math notranslate nohighlight">\(a(z)\)</span> and <span class="math notranslate nohighlight">\(-b(z)\)</span>.  It’s up to you.</p>
<p>The rule for multiplying two TPS is called <em>Cauchy convolution</em> and it looks like this:</p>
<div class="math notranslate nohighlight">
\[
\left(\sum_{k=0}^N a_k z^k+ O(z^{N+1})\right ) \cdot \left( \sum_{k=0}^N b_k z^k+ O(z^{N+1})\right)  = \sum_{k=0}^N c_k z^k + O(z^{N+1}) ,
\]</div>
<p>where each <span class="math notranslate nohighlight">\(c_k\)</span> is given by either of the two sums below:</p>
<div class="math notranslate nohighlight">
\[
c_k = \sum_{j=0}^k a_j b_{k-j} = \sum_{j=0}^k a_{k-j}b_j .
\]</div>
<p>To implement this function you will have to write a <em>nested loop</em>, that is, a loop inside a loop.  Test your function using several examples.  Notice that you only compute the product terms up to <span class="math notranslate nohighlight">\(c_N\)</span>.  The first term is simple: <span class="math notranslate nohighlight">\(c_0 = a_0b_0\)</span>.</p>
<p>The rule for <em>dividing</em> one TPS by another, say <span class="math notranslate nohighlight">\(a(z)/b(z)\)</span>, has a requirement that <span class="math notranslate nohighlight">\(b_0 \ne 0\)</span>.  If this requirement is not met, then the result of the division is not a TPS but rather something called a Laurent series.  You could implement this if you wanted, but all we are asking here is to do this for TPS.</p>
<p>The rule for division comes from the rule for multiplication: if <span class="math notranslate nohighlight">\(a(z)/b(z) = d(z)\)</span>, then <span class="math notranslate nohighlight">\(a(z) = b(z)\cdot d(z)\)</span>.  Writing down the Cauchy convolution for that product, and <em>solving</em> for the next coefficient, we find that</p>
<div class="math notranslate nohighlight">
\[
d_0 = \frac{a_0}{b_0}
\]</div>
<p>(so we need the rule <span class="math notranslate nohighlight">\(b_0 \ne 0\)</span> right away) followed by the loop</p>
<div class="math notranslate nohighlight">
\[
d_k = \frac{1}{b_0}\left( a_k - \sum_{j=1}^k b_j d_{k-j}\right)
\]</div>
<p>for <span class="math notranslate nohighlight">\(k=1\)</span>, <span class="math notranslate nohighlight">\(2\)</span>, <span class="math notranslate nohighlight">\(\ldots\)</span>, <span class="math notranslate nohighlight">\(N\)</span> and you can see that this rule is a bit more complicated than the Cauchy convolution, and your nested loop will have to be even more careful about the range of the indices.  Notice also that one cannot compute <span class="math notranslate nohighlight">\(d_k\)</span> until all of the previous <span class="math notranslate nohighlight">\(d\)</span>’s are known.</p>
<p>Test your programs with many examples.  You should be able to multiply two series together, and then divide the result by one of the first two and get the other back, for instance.  Once your programs are working, you can then check that dividing [0,1,0,0,0,0] by [1, -1, -1,0,0,0] will give you (up to the truncation point) the Fibonacci numbers.</p>
<p>Finally, we ask you to implement the <a class="reference external" href="https://en.wikipedia.org/wiki/J._C._P._Miller">J.C.P. Miller</a> formula (see the reference there to Knuth’s Volume II, page 507) for raising a TPS to a power.  This formula was actually known to Euler (of course) but is a very fast way to raise a series to a power.  The JCP Miller formula is best expressed first for raising a simpler kind of series to a power, namely one with its zeroth coefficient equal to <span class="math notranslate nohighlight">\(1\)</span>: let</p>
<div class="math notranslate nohighlight">
\[
y(z) = 1 + y_1z + y_2z^2 + y_3z^3 + \cdots
\]</div>
<p>and then the series <span class="math notranslate nohighlight">\(y(z)^\alpha\)</span> where <span class="math notranslate nohighlight">\(\alpha\)</span> is any constant is given by</p>
<div class="math notranslate nohighlight">
\[
y(z)^\alpha = c_0 + c_1z + c_2z^2 + c_3z^2 + \cdots
\]</div>
<p>where <span class="math notranslate nohighlight">\(c_0 = 1\)</span> and</p>
<div class="math notranslate nohighlight">
\[
c_k = \frac{1}{k} \sum_{j=0}^{k-1} \left( \alpha(k-j) - j\right)c_j y_{k-j}
\]</div>
<p>or, equivalently,</p>
<div class="math notranslate nohighlight">
\[
c_k = \frac{1}{k} \sum_{j=0}^{k-1} \left( (\alpha+1)j - k\right)c_{k-j} y_j
\]</div>
<p>for <span class="math notranslate nohighlight">\(k=1\)</span>, <span class="math notranslate nohighlight">\(2\)</span>, <span class="math notranslate nohighlight">\(3\)</span>, <span class="math notranslate nohighlight">\(\ldots\)</span> in turn.  Note that, as with division, you cannot compute any given <span class="math notranslate nohighlight">\(c_k\)</span> without having first computed <span class="math notranslate nohighlight">\(c_0\)</span>, <span class="math notranslate nohighlight">\(c_1\)</span>, <span class="math notranslate nohighlight">\(c_2\)</span>, and so on up to and including <span class="math notranslate nohighlight">\(c_{k-1}\)</span>.  Extending this to powers of <span class="math notranslate nohighlight">\(y(z)\)</span> where <span class="math notranslate nohighlight">\(y_0 \ne 0\)</span> only needs removal of a common factor of <span class="math notranslate nohighlight">\(y_0\)</span>, and then multiplying the result by the constant <span class="math notranslate nohighlight">\(y_0^\alpha\)</span>.  If <span class="math notranslate nohighlight">\(y_0 = 0\)</span>, then the result of raising <span class="math notranslate nohighlight">\(y(z)\)</span> to the power <span class="math notranslate nohighlight">\(\alpha\)</span> is not a TPS unless <span class="math notranslate nohighlight">\(\alpha\)</span> is an integer (in that case one can just use repeated multiplications).</p>
<p>You can now also solve many other recurrence relations this way, if you like.  Welcome to the world of generating functions.  Frequently they are more useful to think with than to compute with, but computing with them is useful, too.</p>
<p>The wonderful book <a class="reference external" href="https://www2.math.upenn.edu/~wilf/DownldGF.html">Generatingfunctionology</a> by the late <a class="reference external" href="https://en.wikipedia.org/wiki/Herbert_Wilf">Herb Wilf</a> is a wonderful resource for further learning about generating functions, and is available completely free (legally) at that link.
<a class="reference internal" href="../Solutions/Reports%20on%20Fibonacci%20Activities.html#fibonacciactivityreport-15"><span class="std std-ref">[What happened when we did this]</span></a></p>
</div>
</section>
</section>
</section>
<section id="looking-back-at-the-programming-constructs-we-have-mentioned">
<h2>Looking back at the programming constructs we have mentioned<a class="headerlink" href="#looking-back-at-the-programming-constructs-we-have-mentioned" title="Permalink to this headline">#</a></h2>
<p>We talked about variable names (container names), and what makes a legal variable name in Python.
We have used the assignment operator <code class="docutils literal notranslate"><span class="pre">=</span></code> to put the thing on the right in as the contents of the container on the left; we have introduced the data types of integer, list, float, and NumPy arrays.  We have shown arithmetic operators such as <code class="docutils literal notranslate"><span class="pre">+</span></code> and <code class="docutils literal notranslate"><span class="pre">*</span></code> and <code class="docutils literal notranslate"><span class="pre">%</span></code> and shown that the ordinary rules of precedence work fine (except brackets are needed for <code class="docutils literal notranslate"><span class="pre">%</span></code> for clarity). We have introduced some object-oriented syntax (for plots, because matplotlib uses objects in that way).  We have shown how to use <code class="docutils literal notranslate"><span class="pre">for</span></code> loops, <code class="docutils literal notranslate"><span class="pre">while</span></code> loops, <code class="docutils literal notranslate"><span class="pre">if</span></code> statements, and how to create a list using a <code class="docutils literal notranslate"><span class="pre">for</span></code> statement and a “range”.  We have shown how to define functions and how to write recursive functions.  We have shown how to use <code class="docutils literal notranslate"><span class="pre">print</span></code> statements and how to use Jupyter Notebook as a “REPL” (Read-Eval-Print-Loop).  We have shown how to do modular arithmetic with the <code class="docutils literal notranslate"><span class="pre">%</span></code> operator.  We have shown how to import packages such as <code class="docutils literal notranslate"><span class="pre">time</span></code> and <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> and <code class="docutils literal notranslate"><span class="pre">numpy</span></code>.</p>
<p>The more you use these, the more comfortable you will be with them.  But already they should be useful for you.</p>
<section id="web-reference-for-python-programming">
<h3>Web reference for Python programming<a class="headerlink" href="#web-reference-for-python-programming" title="Permalink to this headline">#</a></h3>
<p>There are a lot to choose from.  <a class="reference external" href="https://python.swaroopch.com/">Here’s one that is free, looking like a Jupyter Book</a> It is by Swaroop, who (at this time of writing) is working in Machine Learning.  The book is very readable.</p>
</section>
<section id="web-reference-for-jupyter-notebooks">
<h3>Web reference for Jupyter notebooks<a class="headerlink" href="#web-reference-for-jupyter-notebooks" title="Permalink to this headline">#</a></h3>
<p>The place to start is the <a class="reference external" href="https://jupyter-notebook.readthedocs.io/en/stable/">Jupyter Documentation</a> which includes notes on installation.</p>
</section>
<section id="web-reference-for-jupyter-books">
<h3>Web reference for Jupyter Books<a class="headerlink" href="#web-reference-for-jupyter-books" title="Permalink to this headline">#</a></h3>
<p>Again, <a class="reference external" href="https://jupyterbook.org/en/stable/intro.html">here is the documentation</a>.</p>
</section>
<section id="books-and-web-references-about-fibonacci-numbers">
<h3>Books and web references about Fibonacci numbers<a class="headerlink" href="#books-and-web-references-about-fibonacci-numbers" title="Permalink to this headline">#</a></h3>
<p>Here is the <a class="reference external" href="https://encyclopediaofmath.org/index.php?title=Fibonacci_numbers">Encyclopedia of Mathematics entry</a> which has some useful information.</p>
<p><em>Ralph Grimaldi, Fibonacci and Catalan Numbers, Wiley 2012</em>. See if your library has access: the book itself is quite expensive, as academic books usually are.  This is a thorough and reliable text.</p>
<p>There are many other books.  Some are a bit flaky, though.  Be warned.</p>
</section>
<section id="accessible-papers-about-fibonacci-numbers">
<h3>Accessible papers about Fibonacci numbers<a class="headerlink" href="#accessible-papers-about-fibonacci-numbers" title="Permalink to this headline">#</a></h3>
<p>This paper by Richard Askey (who was very famous, in mathematical circles), <a class="reference external" href="https://www.jstor.org/stable/20871525">is worth a look</a>.  JSTOR offers 100 free articles every month to people, so even if you don’t have an institutional access, you can read that.  <a class="reference external" href="https://www.jstor.org/stable/27971825">See also this article by the same author.</a></p>
<p>Another paper appearing in the same journal, <a class="reference external" href="https://www.jstor.org/stable/27971752">this one by Danrun Huang</a>, makes a lovely connection to graph theory (one of the most important aspects of discrete mathematics) and is well worth reading.</p>
<p>Finally, we note an awkwardly typeset (this was before TeX or LaTeX) <a class="reference external" href="https://www.jstor.org/stable/community.30005241">but beautifully readable paper by Annette Herz</a>.</p>
<p>We remark that these are only some out of a multitude.  There are 278 pages of results when you search JSTOR with the keyword “Fibonacci”.</p>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./Contents"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="../Installing-Python-and-Jupyter.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Before we begin: installing Python and Jupyter</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="continued-fractions.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Continued Fractions</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Neil J. Calkin, Eunice Y.S. Chan, and Robert M. Corless<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>