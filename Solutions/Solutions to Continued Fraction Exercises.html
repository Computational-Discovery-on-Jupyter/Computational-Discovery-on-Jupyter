
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Solutions to Continued Fractions Exercises &#8212; Computational Discovery on Jupyter</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/proof.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="shortcut icon" href="../_static/logo.jpg"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Solutions to the Rootfinding Chapter Exercises" href="Solutions%20to%20the%20Rootfinding%20Chapter%20Exercises.html" />
    <link rel="prev" title="Symbolic Computation: The Pitfalls" href="../Appendix/symbolic-computation.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.jpg" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Computational Discovery on Jupyter</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../index.html">
   Welcome to Computational Discovery on Jupyter
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Preface
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../preamble.html">
   Preamble
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Contents
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../Contents/continued-fractions.html">
   Continued Fractions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Contents/rootfinding.html">
   Rootfinding, Newton’s Method, and Dynamical Systems
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Contents/fractals-and-julia-sets.html">
   Fractals and Julia Sets
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Contents/bohemian-matrices.html">
   Bounded Height Matrices of Integers (Bohemian Matrices)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Contents/mandelbrot.html">
   Mandelbrot Polynomials and Matrices
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Contents/chaos-game-representation.html">
   Chaos Game Representation
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Appendix
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../Appendix/floating-point.html">
   The Bare Minimum about Floating-Point
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Appendix/binomials-factorials-combinatorics.html">
   Binomials, Factorials, and other Combinatorial Things
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Appendix/complex-numbers.html">
   Complex Numbers
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Appendix/symbolic-computation.html">
   Symbolic Computation: The Pitfalls
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Solutions
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Solutions to Continued Fractions Exercises
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Solutions%20to%20the%20Rootfinding%20Chapter%20Exercises.html">
   Solutions to the Rootfinding Chapter Exercises
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Solutions%20to%20the%20Julia%20Set%20Exercises.html">
   Solutions to the Julia Set Exercises
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Solutions%20to%20Exercises%20%28not%20Activities%29%20in%20the%20Bohemian%20Unit.html">
   Solutions to Exercises (not Activities) in the Bohemian Unit
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Solutions%20to%20Mandelbrot%20Exercises.html">
   Solutions to Mandelbrot Polynomials and Matrices Exercises
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Back Matter
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../acknowledgements.html">
   Acknowledgements
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../about.html">
   About the authors
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../references.html">
   References
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/Solutions/Solutions to Continued Fraction Exercises.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/Computational-Discovery-on-Jupyter/Computational-Discovery-on-Jupyter"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Solutions to Continued Fractions Exercises</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="solutions-to-continued-fractions-exercises">
<h1>Solutions to Continued Fractions Exercises<a class="headerlink" href="#solutions-to-continued-fractions-exercises" title="Permalink to this headline">¶</a></h1>
<p>1: Write down as many questions as you can, about this section.</p>
<p>Can we use symbols in continued fractions? Matrices? Can we easily add, multiply, divide continued fractions? Compose them? Can we express known functions as continued fractions? Why aren’t continued fractions used more than they are?  Can we visualize them in colour somehow?  Is there any “continued fraction art”?  We don’t know, but you might look at the <a class="reference external" href="https://www.bridgesmathart.org/">Bridges Math Art website</a> which is very interesting.</p>
<p>Who invented continued fractions first? Or were they invented more than once, in more than one place and time?  <a class="reference external" href="https://www.maa.org/press/periodicals/convergence/connecting-greek-ladders-and-continued-fractions-history-of-continued-fractions">Here’s an article from “Convergence”, a nice open access history journal by the Mathematical Association of America</a>.  We don’t really want to <em>answer</em> questions here, just show you some of the ones we thought of; but we find it sort of irresistible. Hey, consider our profession.</p>
<p>Are there continued fractions that <em>don’t</em> make sense as we let the number of partial quotients go to infinity? (Yes; with some negative entries).  Are continued fractions applied to anything? (a quick googling finds some <a class="reference external" href="https://math.stackexchange.com/questions/585675/what-are-the-applications-of-continued-fractions">gems at Stack Exchange</a> only some of which we knew). Then we found <a class="reference external" href="http://www.rnta.eu/SecondRNTA/Waldschmidt-Sanna.pdf">an open-access paper by Carlo Sanna</a> that has several more.
Are there “continued additions?”  “continued multiplications?” (yes, and yes; called “infinite series” and “infinite products” respectively; you will likely learn about infinite series in calculus, but infinite products are less commonly seen in courses).  “continued logarithms?”  Yes, but only recently; work by Jonathan M. Borwein.  Continued exponentials?  Oh, yes! The “infinite tower of powers” is a perennial favourite question, and leads to the <a class="reference external" href="https://orcca.on.ca/LambertW/">Lambert W function</a>.  Writing this, RMC is a little surprised that it hasn’t been mentioned till now!</p>
<p>2: Open a fresh Jupyter notebook and type in a code cell the following three lines:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x0</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">x1</span> <span class="o">=</span> <span class="p">(</span><span class="n">x0</span> <span class="o">+</span> <span class="mi">2</span><span class="o">/</span><span class="n">x0</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">x1</span><span class="p">)</span>
</pre></div>
</div>
<p>and press and hold the control key and the Enter key.  There, you have just used Python to compute the first Newton iterate for the square root of two; the computer should have printed out <code class="docutils literal notranslate"><span class="pre">1.5</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x0</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">x1</span> <span class="o">=</span> <span class="p">(</span><span class="n">x0</span> <span class="o">+</span> <span class="mi">2</span><span class="o">/</span><span class="n">x0</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">x1</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.5 0.25
</pre></div>
</div>
</div>
</div>
<p>3: Now copy the final two lines of that cell (not the <code class="docutils literal notranslate"><span class="pre">x0=1</span></code>) and put them in a fresh code cell, and change <code class="docutils literal notranslate"><span class="pre">x0</span></code> to <code class="docutils literal notranslate"><span class="pre">x1</span></code> and <code class="docutils literal notranslate"><span class="pre">x1</span></code> to <code class="docutils literal notranslate"><span class="pre">x2</span></code> everywhere.  Run it again. The notebook should print <code class="docutils literal notranslate"><span class="pre">1.4166666666666665</span></code>.  Do it again 4 more times, changing <code class="docutils literal notranslate"><span class="pre">x2</span></code> to <code class="docutils literal notranslate"><span class="pre">x3</span></code>, and <code class="docutils literal notranslate"><span class="pre">x3</span></code> to <code class="docutils literal notranslate"><span class="pre">x4</span></code>, and <code class="docutils literal notranslate"><span class="pre">x4</span></code> to <code class="docutils literal notranslate"><span class="pre">x5</span></code>, and <code class="docutils literal notranslate"><span class="pre">x5</span></code> to <code class="docutils literal notranslate"><span class="pre">x6</span></code> in their newly copied lines. You should find after running the program that <em>both</em> <code class="docutils literal notranslate"><span class="pre">x5</span></code> and <code class="docutils literal notranslate"><span class="pre">x6</span></code> are <code class="docutils literal notranslate"><span class="pre">1.414213562373095</span></code>; no matter how many more times you do this (<code class="docutils literal notranslate"><span class="pre">x7</span></code>, <code class="docutils literal notranslate"><span class="pre">x8</span></code>, whatever) it won’t change any more.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x2</span> <span class="o">=</span> <span class="p">(</span><span class="n">x1</span> <span class="o">+</span> <span class="mi">2</span><span class="o">/</span><span class="n">x1</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">x2</span><span class="p">,</span> <span class="n">x2</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.4166666666666665 0.006944444444444198
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x3</span> <span class="o">=</span> <span class="p">(</span><span class="n">x2</span> <span class="o">+</span> <span class="mi">2</span><span class="o">/</span><span class="n">x2</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">x3</span><span class="p">,</span> <span class="n">x3</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.4142156862745097 6.007304882427178e-06
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x4</span> <span class="o">=</span> <span class="p">(</span><span class="n">x3</span> <span class="o">+</span> <span class="mi">2</span><span class="o">/</span><span class="n">x3</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">x4</span><span class="p">,</span> <span class="n">x4</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.4142135623746899 4.510614104447086e-12
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x5</span> <span class="o">=</span> <span class="p">(</span><span class="n">x4</span> <span class="o">+</span> <span class="mi">2</span><span class="o">/</span><span class="n">x4</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">x5</span><span class="p">,</span> <span class="n">x5</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.414213562373095 -4.440892098500626e-16
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x6</span> <span class="o">=</span> <span class="p">(</span><span class="n">x5</span> <span class="o">+</span> <span class="mi">2</span><span class="o">/</span><span class="n">x5</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">x6</span><span class="p">,</span> <span class="n">x6</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.414213562373095 -4.440892098500626e-16
</pre></div>
</div>
</div>
</div>
<p>4: Now go back and modify your print statements to be <code class="docutils literal notranslate"><span class="pre">print(x1,</span> <span class="pre">x1**2-2)</span></code>, <code class="docutils literal notranslate"><span class="pre">print(x2,</span> <span class="pre">x2**2-2)</span></code>, and so on, all the way up to <code class="docutils literal notranslate"><span class="pre">print(x6,</span> <span class="pre">x6**2-2)</span></code> and run all the cells again (in order).  You should see that the second numbers printed get smaller each time, until the line for <code class="docutils literal notranslate"><span class="pre">x5</span></code>. This says that <code class="docutils literal notranslate"><span class="pre">x5</span></code> squared is only about -4.4 times ten to the minus 16 smaller than 2 (we will see in a moment that this is not a very trustworthy statement).  That is, Python says that <code class="docutils literal notranslate"><span class="pre">x5</span></code> is the exact square root of a number only a proton’s width away from two (see the appendix on floating point numbers).</p>
<p>We did this already, reported above</p>
<p>5: Now we are going to do the same in <em>rational arithmetic</em> by looking after the numerators and denominators <span class="math notranslate nohighlight">\(p_n\)</span> and <span class="math notranslate nohighlight">\(q_n\)</span> ourselves.  Either by going back and changing all your previous cells, or by writing fresh cells, enter the following (it can all be in one cell)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">p0</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">q0</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">p1</span> <span class="o">=</span> <span class="n">p0</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">q0</span><span class="o">**</span><span class="mi">2</span>
<span class="n">q1</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">p0</span><span class="o">*</span><span class="n">q1</span>
<span class="nb">print</span><span class="p">(</span> <span class="n">p1</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">p1</span><span class="o">/</span><span class="n">q1</span><span class="p">,</span> <span class="p">(</span><span class="n">p1</span><span class="o">/</span><span class="n">q1</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="n">p1</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">q1</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">q1</span><span class="o">**</span><span class="mi">2</span> <span class="p">)</span>
<span class="c1">#... (these dots mean do the case p2/q2, p3/q3, all the way up to the end)</span>
<span class="n">p6</span> <span class="o">=</span> <span class="n">p5</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">q5</span><span class="o">**</span><span class="mi">2</span>
<span class="n">q6</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">p5</span><span class="o">*</span><span class="n">q5</span>
<span class="nb">print</span><span class="p">(</span> <span class="n">p6</span><span class="p">,</span> <span class="n">q6</span><span class="p">,</span> <span class="n">p6</span><span class="o">/</span><span class="n">q6</span><span class="p">,</span> <span class="p">(</span><span class="n">p6</span><span class="o">/</span><span class="n">q6</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="n">p6</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">q6</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">q6</span><span class="o">**</span><span class="mi">2</span> <span class="p">)</span>
</pre></div>
</div>
<p>You should be a little tired of cutting-and-pasting and changing 3s to 4s and 4s to 5s etc; it’s not <em>too bad</em> in such a short program (and that’s what it is, technically called a “straight-line program” because it has no loops), but it’s clearly repetetive and error-prone unless you are very finicky (we are very finicky).  We’ll start using loops in a moment, but right now there are two other puzzles that should appear when you run this program.  First, the pn/qn ratios should be giving the (apparently) same numbers as the xn before, and similarly the difference between squaring the ratio and 2.  But the last two entries give (as a ratio) the <em>exact</em> numbers for <code class="docutils literal notranslate"><span class="pre">(pn/qn)**2</span> <span class="pre">-</span> <span class="pre">2</span></code> (if we have done our algebra right).  Our program generates the ratios <span class="math notranslate nohighlight">\(1/4\)</span>, <span class="math notranslate nohighlight">\(1/144\)</span>, <span class="math notranslate nohighlight">\(1/166464\)</span>, and so on until</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{equation*}
    x_6 = p_6/q_6 = \frac{1572584048032918633353217}{1111984844349868137938112}.
\end{equation*}\]</div>
<p>(If you did not get those numbers, go look for your typos)<br>
Python says that</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{equation*}
    \left( \frac{p_6}{q_6} \right)^2 - 2 = \frac{1}{1236510294063800469693771621893337765354742124544}.
\end{equation*}\]</div>
<p>That’s about <span class="math notranslate nohighlight">\(8.0\times 10^{-49}\)</span>, not the <span class="math notranslate nohighlight">\(-4.4\times 10^{-16}\)</span> from before.  The sign isn’t even the same.  What happened? The puzzles are resolved by thinking about floating-point arithmetic versus exact integer arithmetic.  Write out a paragraph describing your understanding of the differences, and then read the symbolic algebra appendix and the floating-point appendix. <br>
One final point of this exercise: we did not ever compare <code class="docutils literal notranslate"><span class="pre">p3/q3</span></code> to <code class="docutils literal notranslate"><span class="pre">p2/q2</span></code>, or any iterate to its previous one; instead, we tried to decide how good any iterate was (as an approximation to the square root of two) by checking to see how close its square was to two.  This is a kind of error analysis called “backward error analysis” and we will see that it is very useful.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p0</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">q0</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">p1</span> <span class="o">=</span> <span class="n">p0</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">q0</span><span class="o">**</span><span class="mi">2</span>
<span class="n">q1</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">p0</span><span class="o">*</span><span class="n">q0</span>
<span class="nb">print</span><span class="p">(</span> <span class="n">p1</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">p1</span><span class="o">/</span><span class="n">q1</span><span class="p">,</span> <span class="p">(</span><span class="n">p1</span><span class="o">/</span><span class="n">q1</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="n">p1</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">q1</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">q1</span><span class="o">**</span><span class="mi">2</span> <span class="p">)</span>
<span class="n">p2</span> <span class="o">=</span> <span class="n">p1</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">q1</span><span class="o">**</span><span class="mi">2</span>
<span class="n">q2</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">p1</span><span class="o">*</span><span class="n">q1</span>
<span class="nb">print</span><span class="p">(</span> <span class="n">p2</span><span class="p">,</span> <span class="n">q2</span><span class="p">,</span> <span class="n">p2</span><span class="o">/</span><span class="n">q2</span><span class="p">,</span> <span class="p">(</span><span class="n">p2</span><span class="o">/</span><span class="n">q2</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="n">p2</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">q2</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">q2</span><span class="o">**</span><span class="mi">2</span> <span class="p">)</span>
<span class="n">p3</span> <span class="o">=</span> <span class="n">p2</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">q2</span><span class="o">**</span><span class="mi">2</span>
<span class="n">q3</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">p2</span><span class="o">*</span><span class="n">q2</span>
<span class="nb">print</span><span class="p">(</span> <span class="n">p3</span><span class="p">,</span> <span class="n">q3</span><span class="p">,</span> <span class="n">p3</span><span class="o">/</span><span class="n">q3</span><span class="p">,</span> <span class="p">(</span><span class="n">p3</span><span class="o">/</span><span class="n">q3</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="n">p3</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">q3</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">q3</span><span class="o">**</span><span class="mi">2</span> <span class="p">)</span>
<span class="n">p4</span> <span class="o">=</span> <span class="n">p3</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">q3</span><span class="o">**</span><span class="mi">2</span>
<span class="n">q4</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">p3</span><span class="o">*</span><span class="n">q3</span>
<span class="nb">print</span><span class="p">(</span> <span class="n">p4</span><span class="p">,</span> <span class="n">q4</span><span class="p">,</span> <span class="n">p4</span><span class="o">/</span><span class="n">q4</span><span class="p">,</span> <span class="p">(</span><span class="n">p4</span><span class="o">/</span><span class="n">q4</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="n">p4</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">q4</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">q4</span><span class="o">**</span><span class="mi">2</span> <span class="p">)</span>
<span class="n">p5</span> <span class="o">=</span> <span class="n">p4</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">q4</span><span class="o">**</span><span class="mi">2</span>
<span class="n">q5</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">p4</span><span class="o">*</span><span class="n">q4</span>
<span class="nb">print</span><span class="p">(</span> <span class="n">p5</span><span class="p">,</span> <span class="n">q5</span><span class="p">,</span> <span class="n">p5</span><span class="o">/</span><span class="n">q5</span><span class="p">,</span> <span class="p">(</span><span class="n">p5</span><span class="o">/</span><span class="n">q5</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="n">p5</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">q5</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">q5</span><span class="o">**</span><span class="mi">2</span> <span class="p">)</span>
<span class="n">p6</span> <span class="o">=</span> <span class="n">p5</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">q5</span><span class="o">**</span><span class="mi">2</span>
<span class="n">q6</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">p5</span><span class="o">*</span><span class="n">q5</span>
<span class="nb">print</span><span class="p">(</span> <span class="n">p6</span><span class="p">,</span> <span class="n">q6</span><span class="p">,</span> <span class="n">p6</span><span class="o">/</span><span class="n">q6</span><span class="p">,</span> <span class="p">(</span><span class="n">p6</span><span class="o">/</span><span class="n">q6</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="n">p6</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">q6</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">q6</span><span class="o">**</span><span class="mi">2</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3 2 1.5 0.25 1 4
17 12 1.4166666666666667 0.006944444444444642 1 144
577 408 1.4142156862745099 6.007304882871267e-06 1 166464
665857 470832 1.4142135623746899 4.510614104447086e-12 1 221682772224
886731088897 627013566048 1.4142135623730951 4.440892098500626e-16 1 393146012008229658338304
1572584048032918633353217 1111984844349868137938112 1.4142135623730951 4.440892098500626e-16 1 1236510294063800469693771621893337765354742124544
</pre></div>
</div>
</div>
</div>
<p>6: <em>Lists</em> in Python.  Lists are enclosed in square brackets, like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">]</span> <span class="c1"># x is a list with just one element, namely the floating-point number 1.0</span>
<span class="nb">print</span><span class="p">(</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">)</span> <span class="c1"># the first element has index zero; Python counts from 0</span>
</pre></div>
</div>
<p>Type the above two lines into a fresh cell (don’t just copy-and-paste, really type; it’s practice for your fingers).  You don’t have to type the comments (The hashtag and everything after that on each line) but you may.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>    <span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">]</span> <span class="c1"># x is a list with just one element, namely the floating-point number 1.0</span>
    <span class="nb">print</span><span class="p">(</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">)</span> <span class="c1"># the first element has index zero; Python counts from 0</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.0
</pre></div>
</div>
</div>
</div>
<p>7: You can use a single list to store all the numbers <code class="docutils literal notranslate"><span class="pre">x0</span></code>, <code class="docutils literal notranslate"><span class="pre">x1</span></code>, <code class="docutils literal notranslate"><span class="pre">x2</span></code>, and so on; type these lines in</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">)</span>
<span class="n">nxt</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mi">2</span><span class="o">/</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="mi">2</span>
<span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">nxt</span> <span class="p">)</span> <span class="c1"># This appends an element to the list &quot;x&quot;  (if the list was called y, you would say y.append( nxt ))</span>
<span class="nb">print</span><span class="p">(</span> <span class="s2">&quot;The list x is &quot;</span><span class="p">,</span> <span class="n">x</span> <span class="p">)</span>
<span class="nb">print</span><span class="p">(</span> <span class="s2">&quot;The first element of x is &quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">)</span>
<span class="nb">print</span><span class="p">(</span> <span class="s2">&quot;The second element of x is &quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">)</span>
</pre></div>
</div>
<p>That doesn’t look very different to using two variables <code class="docutils literal notranslate"><span class="pre">x0</span></code> and <code class="docutils literal notranslate"><span class="pre">x1</span></code>, but it is: we can now automatically increment the indices.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>   <span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">]</span>
   <span class="nb">print</span><span class="p">(</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">)</span>
   <span class="n">nxt</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mi">2</span><span class="o">/</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="mi">2</span>
   <span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">nxt</span> <span class="p">)</span> <span class="c1"># This appends an element to the list &quot;x&quot;  (if the list was called y, you would say y.append( nxt ))</span>
   <span class="nb">print</span><span class="p">(</span> <span class="s2">&quot;The list x is &quot;</span><span class="p">,</span> <span class="n">x</span> <span class="p">)</span>
   <span class="nb">print</span><span class="p">(</span> <span class="s2">&quot;The first element of x is &quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">)</span>
   <span class="nb">print</span><span class="p">(</span> <span class="s2">&quot;The second element of x is &quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.0
The list x is  [1.0, 1.5]
The first element of x is  1.0
The second element of x is  1.5
</pre></div>
</div>
</div>
</div>
<p>8: Type in the following and execute them:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">]</span> <span class="c1"># We reproduce our iteration using the list and indices into the list so we don&#39;t have new variable names</span>
<span class="n">nxt</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mi">2</span><span class="o">/</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="mi">2</span>
<span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">nxt</span> <span class="p">)</span>
<span class="n">nxt</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="mi">2</span><span class="o">/</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="mi">2</span>
<span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">nxt</span> <span class="p">)</span>
<span class="n">nxt</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">+</span><span class="mi">2</span><span class="o">/</span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">/</span><span class="mi">2</span>
<span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">nxt</span> <span class="p">)</span>
<span class="n">nxt</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">+</span><span class="mi">2</span><span class="o">/</span><span class="n">x</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span><span class="o">/</span><span class="mi">2</span>
<span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">nxt</span> <span class="p">)</span>
<span class="n">nxt</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">+</span><span class="mi">2</span><span class="o">/</span><span class="n">x</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span><span class="o">/</span><span class="mi">2</span>
<span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">nxt</span> <span class="p">)</span>
<span class="n">nxt</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">+</span><span class="mi">2</span><span class="o">/</span><span class="n">x</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span><span class="o">/</span><span class="mi">2</span>
<span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">nxt</span> <span class="p">)</span>
<span class="nb">print</span><span class="p">(</span> <span class="s2">&quot;The list x is &quot;</span><span class="p">,</span> <span class="n">x</span> <span class="p">)</span>
<span class="nb">print</span><span class="p">(</span> <span class="s2">&quot;The fifth element of x is &quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="p">)</span>
<span class="nb">print</span><span class="p">(</span> <span class="s2">&quot;The sixth element of x is &quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="p">)</span>
<span class="nb">print</span><span class="p">(</span> <span class="s2">&quot;The seventh element of x is &quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="p">)</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>    <span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">]</span> <span class="c1"># We reproduce our iteration using the list and indices into the list so we don&#39;t have new variable names</span>
    <span class="n">nxt</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mi">2</span><span class="o">/</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="mi">2</span>
    <span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">nxt</span> <span class="p">)</span>
    <span class="n">nxt</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="mi">2</span><span class="o">/</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="mi">2</span>
    <span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">nxt</span> <span class="p">)</span>
    <span class="n">nxt</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">+</span><span class="mi">2</span><span class="o">/</span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">/</span><span class="mi">2</span>
    <span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">nxt</span> <span class="p">)</span>
    <span class="n">nxt</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">+</span><span class="mi">2</span><span class="o">/</span><span class="n">x</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span><span class="o">/</span><span class="mi">2</span>
    <span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">nxt</span> <span class="p">)</span>
    <span class="n">nxt</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">+</span><span class="mi">2</span><span class="o">/</span><span class="n">x</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span><span class="o">/</span><span class="mi">2</span>
    <span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">nxt</span> <span class="p">)</span>
    <span class="n">nxt</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">+</span><span class="mi">2</span><span class="o">/</span><span class="n">x</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span><span class="o">/</span><span class="mi">2</span>
    <span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">nxt</span> <span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span> <span class="s2">&quot;The list x is &quot;</span><span class="p">,</span> <span class="n">x</span> <span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span> <span class="s2">&quot;The fifth element of x is &quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span> <span class="s2">&quot;The sixth element of x is &quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span> <span class="s2">&quot;The seventh element of x is &quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The list x is  [1.0, 1.5, 1.4166666666666665, 1.4142156862745097, 1.4142135623746899, 1.414213562373095, 1.414213562373095]
The fifth element of x is  1.4142135623746899
The sixth element of x is  1.414213562373095
The seventh element of x is  1.414213562373095
</pre></div>
</div>
</div>
</div>
<p>9: <em>Loops at last</em> Type in the following and execute it:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">]</span>
<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
    <span class="n">nxt</span> <span class="o">=</span> <span class="p">(</span> <span class="n">x</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">+</span> <span class="mi">2</span><span class="o">/</span><span class="n">x</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="p">)</span><span class="o">/</span><span class="mi">2</span> <span class="c1"># We don&#39;t really need &quot;nxt&quot; but it&#39;s a little more readable this way</span>
    <span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">nxt</span> <span class="p">)</span>
<span class="nb">print</span><span class="p">(</span> <span class="n">x</span> <span class="p">)</span>
</pre></div>
</div>
<p>The indentation is important there.  More concisely, without the extra variable “nxt”,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">]</span>
<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
    <span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">+</span><span class="mi">2</span><span class="o">/</span><span class="n">x</span><span class="p">[</span><span class="n">k</span><span class="p">])</span><span class="o">/</span><span class="mi">2</span> <span class="p">)</span>
<span class="nb">print</span><span class="p">(</span> <span class="n">x</span> <span class="p">)</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>   <span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">]</span>
   <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
       <span class="n">nxt</span> <span class="o">=</span> <span class="p">(</span> <span class="n">x</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">+</span> <span class="mi">2</span><span class="o">/</span><span class="n">x</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="p">)</span><span class="o">/</span><span class="mi">2</span> <span class="c1"># We don&#39;t really need &quot;nxt&quot; but it&#39;s a little more readable this way</span>
       <span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">nxt</span> <span class="p">)</span>
   <span class="nb">print</span><span class="p">(</span> <span class="n">x</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1.0, 1.5, 1.4166666666666665, 1.4142156862745097, 1.4142135623746899, 1.414213562373095, 1.414213562373095]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>    <span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
        <span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">+</span><span class="mi">2</span><span class="o">/</span><span class="n">x</span><span class="p">[</span><span class="n">k</span><span class="p">])</span><span class="o">/</span><span class="mi">2</span> <span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span> <span class="n">x</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1.0, 1.5, 1.4166666666666665, 1.4142156862745097, 1.4142135623746899, 1.414213562373095, 1.414213562373095]
</pre></div>
</div>
</div>
</div>
<p>10: Write a loop that uses two lists of integers, say <code class="docutils literal notranslate"><span class="pre">p</span></code> and <code class="docutils literal notranslate"><span class="pre">q</span></code>, and computes the exact integer numerators and denominators for the first six iterates.  Our answer: When we print <code class="docutils literal notranslate"><span class="pre">p</span></code> and <code class="docutils literal notranslate"><span class="pre">q</span></code> we get the following:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{gather*}
    [1, 3, 17, 577, 665857, 886731088897, 1572584048032918633353217] \\
    [1, 2, 12, 408, 470832, 627013566048, 1111984844349868137938112]
\end{gather*}
\end{split}\]</div>
<p>We have given our answer.</p>
<p>11: Which method gives a better approximation to <span class="math notranslate nohighlight">\(\sqrt{73}\)</span>, the <span class="math notranslate nohighlight">\(a + b/(2a)\)</span> formula or the “blending” formula taught in some high schools and mentioned above?</p>
<p>The high-school method is normally slightly less accurate, but not this time!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">rt73</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mf">73.0</span><span class="p">)</span>
<span class="n">a</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">b</span> <span class="o">=</span> <span class="mi">9</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot; 73 is </span><span class="si">{}</span><span class="s2">^2 + </span><span class="si">{}</span><span class="s2">= </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">a</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="n">b</span><span class="p">))</span>
<span class="n">cfapprox</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="p">)</span>
<span class="n">highschool</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="o">/</span><span class="mi">17</span>
<span class="n">errcf</span> <span class="o">=</span> <span class="n">cfapprox</span> <span class="o">-</span> <span class="n">rt73</span>
<span class="n">errhi</span> <span class="o">=</span> <span class="n">highschool</span> <span class="o">-</span> <span class="n">rt73</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;highschool error = </span><span class="si">{}</span><span class="s2">, continued fraction error = </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">errhi</span><span class="p">,</span><span class="n">errcf</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 73 is 8^2 + 9= 73
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>highschool error = -0.014591980611648125, continued fraction error = 0.018496254682469626
</pre></div>
</div>
</div>
</div>
<p>12: Which method would be easier to teach to high school students, do you think?  Why do you think so?</p>
<p>We think that both could be done.</p>
<p>13: Write a Python program that plots the Gauss map on a <em>torus</em>.  Think of it as wrapping the top and bottom of the unit square around a cylinder, and then bending the cylinder around to make a torus.  Compare to the graph on the cover of the March 1992 issue of the American Mathematical Monthly, that is, Volume 99, no. 3.</p>
<p>We did this in Maple.</p>
<a class="reference internal image-reference" href="../_images/gauss_map2.png"><img alt="A map from [0,1] to [0,1] can be transplanted to a torus.  Here is G(x) = frac(1/x)." class="align-center" src="../_images/gauss_map2.png" style="height: 300px;" /></a>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./Solutions"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="../Appendix/symbolic-computation.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Symbolic Computation: The Pitfalls</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="Solutions%20to%20the%20Rootfinding%20Chapter%20Exercises.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Solutions to the Rootfinding Chapter Exercises</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Neil J. Calkin, Eunice Y.S. Chan, and Robert M. Corless<br/>
    
        &copy; Copyright 2022.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>